---
http_interactions:
  - request:
      method: post
      uri: https://api.stripe.com/v1/payment_methods
      body:
        encoding: UTF-8
        string: type=card&card[number]=4242+4242+4242+4242&card[exp_month]=12&card[exp_year]=2023&card[cvc]=123
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_xZF8IcOJKIPiQS","request_duration_ms":425}}'
        Idempotency-Key:
          - 51bd85ca-690a-4070-b583-a7b002383a67
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:11 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '931'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_methods; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Idempotency-Key:
          - 51bd85ca-690a-4070-b583-a7b002383a67
        Original-Request:
          - req_QjDEZLOGvWFgZC
        Request-Id:
          - req_QjDEZLOGvWFgZC
        Stripe-Should-Retry:
          - 'false'
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "object": "payment_method",
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "card": {
              "brand": "visa",
              "checks": {
                "address_line1_check": null,
                "address_postal_code_check": null,
                "cvc_check": "unchecked"
              },
              "country": "US",
              "exp_month": 12,
              "exp_year": 2023,
              "fingerprint": "W691J2Ye3VDoq6Ij",
              "funding": "credit",
              "generated_from": null,
              "last4": "4242",
              "networks": {
                "available": [
                  "visa"
                ],
                "preferred": null
              },
              "three_d_secure_usage": {
                "supported": true
              },
              "wallet": null
            },
            "created": 1698150611,
            "customer": null,
            "livemode": false,
            "metadata": {},
            "type": "card"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:11 GMT
  - request:
      method: post
      uri: https://api.stripe.com/v1/accounts
      body:
        encoding: UTF-8
        string: country=CA&default_currency=cad&type=custom&business_type=individual&tos_acceptance[date]=1427846400&tos_acceptance[ip]=54.234.242.13&business_profile[url]=www.gumroad.com&business_profile[product_description]=Test+product&business_profile[mcc]=5734&individual[verification][document][front]=file_identity_document_success&individual[dob][day]=1&individual[dob][month]=1&individual[dob][year]=1901&individual[first_name]=Chuck&individual[last_name]=Bartowski&individual[phone]=0000000000&individual[id_number]=000000000&individual[email]=me%40example.com&individual[address][line1]=address_full_match&individual[address][city]=Toronto&individual[address][state]=ON&individual[address][postal_code]=M4C+1T2&individual[address][country]=CA&requested_capabilities[0]=card_payments&requested_capabilities[1]=transfers&external_account[object]=bank_account&external_account[country]=CA&external_account[currency]=cad&external_account[routing_number]=11000-000&external_account[account_number]=000123456789
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_QjDEZLOGvWFgZC","request_duration_ms":531}}'
        Idempotency-Key:
          - 334464b8-bfb9-4548-9911-79c101719a59
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:14 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '5427'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Faccounts; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Idempotency-Key:
          - 334464b8-bfb9-4548-9911-79c101719a59
        Original-Request:
          - req_tdbWiTa5MogRYE
        Request-Id:
          - req_tdbWiTa5MogRYE
        Stripe-Should-Retry:
          - 'false'
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "acct_1O4jkNS9lowfYeb6",
            "object": "account",
            "business_profile": {
              "mcc": "5734",
              "name": null,
              "product_description": "Test product",
              "support_address": null,
              "support_email": null,
              "support_phone": null,
              "support_url": null,
              "url": "www.gumroad.com"
            },
            "business_type": "individual",
            "capabilities": {
              "card_payments": "active",
              "transfers": "active"
            },
            "charges_enabled": true,
            "company": {
              "address": {
                "city": "Toronto",
                "country": "CA",
                "line1": "address_full_match",
                "line2": null,
                "postal_code": "M4C 1T2",
                "state": "ON"
              },
              "directors_provided": true,
              "executives_provided": true,
              "name": null,
              "owners_provided": true,
              "phone": "+10000000000",
              "tax_id_provided": false,
              "verification": {
                "document": {
                  "back": null,
                  "details": null,
                  "details_code": null,
                  "front": null
                }
              }
            },
            "country": "CA",
            "created": 1698150613,
            "default_currency": "cad",
            "details_submitted": true,
            "email": null,
            "external_accounts": {
              "object": "list",
              "data": [
                {
                  "id": "ba_1O4jkOS9lowfYeb6oQrTpmlL",
                  "object": "bank_account",
                  "account": "acct_1O4jkNS9lowfYeb6",
                  "account_holder_name": null,
                  "account_holder_type": null,
                  "account_type": null,
                  "available_payout_methods": [
                    "standard"
                  ],
                  "bank_name": "STRIPE TEST BANK",
                  "country": "CA",
                  "currency": "cad",
                  "default_for_currency": true,
                  "fingerprint": "bHAdUgrfRKNYlJ4L",
                  "future_requirements": {
                    "currently_due": [],
                    "errors": [],
                    "past_due": [],
                    "pending_verification": []
                  },
                  "last4": "6789",
                  "metadata": {},
                  "requirements": {
                    "currently_due": [],
                    "errors": [],
                    "past_due": [],
                    "pending_verification": []
                  },
                  "routing_number": "11000-000",
                  "status": "new"
                }
              ],
              "has_more": false,
              "total_count": 1,
              "url": "/v1/accounts/acct_1O4jkNS9lowfYeb6/external_accounts"
            },
            "future_requirements": {
              "alternatives": [],
              "current_deadline": null,
              "currently_due": [],
              "disabled_reason": null,
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "individual": {
              "id": "person_1O4jkOS9lowfYeb6NR9lg25w",
              "object": "person",
              "account": "acct_1O4jkNS9lowfYeb6",
              "address": {
                "city": "Toronto",
                "country": "CA",
                "line1": "address_full_match",
                "line2": null,
                "postal_code": "M4C 1T2",
                "state": "ON"
              },
              "created": 1698150612,
              "dob": {
                "day": 1,
                "month": 1,
                "year": 1901
              },
              "email": "me@example.com",
              "first_name": "Chuck",
              "future_requirements": {
                "alternatives": [],
                "currently_due": [],
                "errors": [],
                "eventually_due": [],
                "past_due": [],
                "pending_verification": []
              },
              "id_number_provided": true,
              "last_name": "Bartowski",
              "metadata": {},
              "phone": "+10000000000",
              "relationship": {
                "director": false,
                "executive": false,
                "legal_guardian": false,
                "owner": false,
                "percent_ownership": null,
                "representative": true,
                "title": null
              },
              "requirements": {
                "alternatives": [],
                "currently_due": [],
                "errors": [],
                "eventually_due": [],
                "past_due": [],
                "pending_verification": []
              },
              "ssn_last_4_provided": true,
              "verification": {
                "additional_document": {
                  "back": null,
                  "details": null,
                  "details_code": null,
                  "front": null
                },
                "details": null,
                "details_code": null,
                "document": {
                  "back": null,
                  "details": null,
                  "details_code": null,
                  "front": "file_0O4jkN9e1RjUNIyYO5mJTOMA"
                },
                "status": "pending"
              }
            },
            "metadata": {},
            "payouts_enabled": true,
            "requirements": {
              "alternatives": [],
              "current_deadline": null,
              "currently_due": [],
              "disabled_reason": null,
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "settings": {
              "bacs_debit_payments": {},
              "branding": {
                "icon": null,
                "logo": null,
                "primary_color": null,
                "secondary_color": null
              },
              "card_issuing": {
                "tos_acceptance": {
                  "date": null,
                  "ip": null
                }
              },
              "card_payments": {
                "decline_on": {
                  "avs_failure": false,
                  "cvc_failure": false
                },
                "statement_descriptor_prefix": "GUMROAD.CO",
                "statement_descriptor_prefix_kana": null,
                "statement_descriptor_prefix_kanji": null
              },
              "dashboard": {
                "display_name": "Gumroad",
                "timezone": "Etc/UTC"
              },
              "payments": {
                "statement_descriptor": "GUMROAD.COM",
                "statement_descriptor_kana": null,
                "statement_descriptor_kanji": null
              },
              "payouts": {
                "debit_negative_balances": false,
                "schedule": {
                  "delay_days": 7,
                  "interval": "daily"
                },
                "statement_descriptor": null
              },
              "sepa_debit_payments": {}
            },
            "tos_acceptance": {
              "date": 1427846400,
              "ip": "54.234.242.13",
              "user_agent": null
            },
            "type": "custom"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:14 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/accounts/acct_1O4jkNS9lowfYeb6
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_tdbWiTa5MogRYE","request_duration_ms":3468}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:15 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '5427'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Faccounts%2F%3Aaccount; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_dhcCovo95DjcHP
        Stripe-Account:
          - acct_1O4jkNS9lowfYeb6
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "acct_1O4jkNS9lowfYeb6",
            "object": "account",
            "business_profile": {
              "mcc": "5734",
              "name": null,
              "product_description": "Test product",
              "support_address": null,
              "support_email": null,
              "support_phone": null,
              "support_url": null,
              "url": "www.gumroad.com"
            },
            "business_type": "individual",
            "capabilities": {
              "card_payments": "active",
              "transfers": "active"
            },
            "charges_enabled": true,
            "company": {
              "address": {
                "city": "Toronto",
                "country": "CA",
                "line1": "address_full_match",
                "line2": null,
                "postal_code": "M4C 1T2",
                "state": "ON"
              },
              "directors_provided": true,
              "executives_provided": true,
              "name": null,
              "owners_provided": true,
              "phone": "+10000000000",
              "tax_id_provided": false,
              "verification": {
                "document": {
                  "back": null,
                  "details": null,
                  "details_code": null,
                  "front": null
                }
              }
            },
            "country": "CA",
            "created": 1698150613,
            "default_currency": "cad",
            "details_submitted": true,
            "email": null,
            "external_accounts": {
              "object": "list",
              "data": [
                {
                  "id": "ba_1O4jkOS9lowfYeb6oQrTpmlL",
                  "object": "bank_account",
                  "account": "acct_1O4jkNS9lowfYeb6",
                  "account_holder_name": null,
                  "account_holder_type": null,
                  "account_type": null,
                  "available_payout_methods": [
                    "standard"
                  ],
                  "bank_name": "STRIPE TEST BANK",
                  "country": "CA",
                  "currency": "cad",
                  "default_for_currency": true,
                  "fingerprint": "bHAdUgrfRKNYlJ4L",
                  "future_requirements": {
                    "currently_due": [],
                    "errors": [],
                    "past_due": [],
                    "pending_verification": []
                  },
                  "last4": "6789",
                  "metadata": {},
                  "requirements": {
                    "currently_due": [],
                    "errors": [],
                    "past_due": [],
                    "pending_verification": []
                  },
                  "routing_number": "11000-000",
                  "status": "new"
                }
              ],
              "has_more": false,
              "total_count": 1,
              "url": "/v1/accounts/acct_1O4jkNS9lowfYeb6/external_accounts"
            },
            "future_requirements": {
              "alternatives": [],
              "current_deadline": null,
              "currently_due": [],
              "disabled_reason": null,
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "individual": {
              "id": "person_1O4jkOS9lowfYeb6NR9lg25w",
              "object": "person",
              "account": "acct_1O4jkNS9lowfYeb6",
              "address": {
                "city": "Toronto",
                "country": "CA",
                "line1": "address_full_match",
                "line2": null,
                "postal_code": "M4C 1T2",
                "state": "ON"
              },
              "created": 1698150612,
              "dob": {
                "day": 1,
                "month": 1,
                "year": 1901
              },
              "email": "me@example.com",
              "first_name": "Chuck",
              "future_requirements": {
                "alternatives": [],
                "currently_due": [],
                "errors": [],
                "eventually_due": [],
                "past_due": [],
                "pending_verification": []
              },
              "id_number_provided": true,
              "last_name": "Bartowski",
              "metadata": {},
              "phone": "+10000000000",
              "relationship": {
                "director": false,
                "executive": false,
                "legal_guardian": false,
                "owner": false,
                "percent_ownership": null,
                "representative": true,
                "title": null
              },
              "requirements": {
                "alternatives": [],
                "currently_due": [],
                "errors": [],
                "eventually_due": [],
                "past_due": [],
                "pending_verification": []
              },
              "ssn_last_4_provided": true,
              "verification": {
                "additional_document": {
                  "back": null,
                  "details": null,
                  "details_code": null,
                  "front": null
                },
                "details": null,
                "details_code": null,
                "document": {
                  "back": null,
                  "details": null,
                  "details_code": null,
                  "front": "file_0O4jkN9e1RjUNIyYO5mJTOMA"
                },
                "status": "pending"
              }
            },
            "metadata": {},
            "payouts_enabled": true,
            "requirements": {
              "alternatives": [],
              "current_deadline": null,
              "currently_due": [],
              "disabled_reason": null,
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "settings": {
              "bacs_debit_payments": {},
              "branding": {
                "icon": null,
                "logo": null,
                "primary_color": null,
                "secondary_color": null
              },
              "card_issuing": {
                "tos_acceptance": {
                  "date": null,
                  "ip": null
                }
              },
              "card_payments": {
                "decline_on": {
                  "avs_failure": false,
                  "cvc_failure": false
                },
                "statement_descriptor_prefix": "GUMROAD.CO",
                "statement_descriptor_prefix_kana": null,
                "statement_descriptor_prefix_kanji": null
              },
              "dashboard": {
                "display_name": "Gumroad",
                "timezone": "Etc/UTC"
              },
              "payments": {
                "statement_descriptor": "GUMROAD.COM",
                "statement_descriptor_kana": null,
                "statement_descriptor_kanji": null
              },
              "payouts": {
                "debit_negative_balances": false,
                "schedule": {
                  "delay_days": 7,
                  "interval": "daily"
                },
                "statement_descriptor": null
              },
              "sepa_debit_payments": {}
            },
            "tos_acceptance": {
              "date": 1427846400,
              "ip": "54.234.242.13",
              "user_agent": null
            },
            "type": "custom"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:15 GMT
  - request:
      method: post
      uri: https://api.stripe.com/v1/payment_intents
      body:
        encoding: UTF-8
        string: payment_method=pm_0O4jkN9e1RjUNIyYNSoPZ2X2&automatic_payment_methods[enabled]=true&automatic_payment_methods[allow_redirects]=never&confirm=true&amount=1000&currency=usd&transfer_data[destination]=acct_1O4jkNS9lowfYeb6&on_behalf_of=acct_1O4jkNS9lowfYeb6&application_fee_amount=30
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_dhcCovo95DjcHP","request_duration_ms":588}}'
        Idempotency-Key:
          - 487c4c98-7b8c-46e9-af2e-02dd2895238d
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:17 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '1508'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Idempotency-Key:
          - 487c4c98-7b8c-46e9-af2e-02dd2895238d
        Original-Request:
          - req_XOAsHHv0soRbCv
        Request-Id:
          - req_XOAsHHv0soRbCv
        Stripe-Should-Retry:
          - 'false'
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "object": "payment_intent",
            "amount": 1000,
            "amount_capturable": 0,
            "amount_details": {
              "tip": {}
            },
            "amount_received": 1000,
            "application": null,
            "application_fee_amount": 30,
            "automatic_payment_methods": {
              "allow_redirects": "never",
              "enabled": true
            },
            "canceled_at": null,
            "cancellation_reason": null,
            "capture_method": "automatic",
            "client_secret": "pi_2O4jkR9e1RjUNIyY1s6D8f0e_secret_Mu36NfwFjUFXN4LpS1acBko2A",
            "confirmation_method": "automatic",
            "created": 1698150615,
            "currency": "usd",
            "customer": null,
            "description": null,
            "invoice": null,
            "last_payment_error": null,
            "latest_charge": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "livemode": false,
            "metadata": {},
            "next_action": null,
            "on_behalf_of": "acct_1O4jkNS9lowfYeb6",
            "payment_method": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "payment_method_configuration_details": null,
            "payment_method_options": {
              "card": {
                "installments": null,
                "mandate_options": null,
                "network": null,
                "request_three_d_secure": "automatic"
              }
            },
            "payment_method_types": [
              "card"
            ],
            "processing": null,
            "receipt_email": null,
            "review": null,
            "setup_future_usage": null,
            "shipping": null,
            "source": null,
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer_data": {
              "destination": "acct_1O4jkNS9lowfYeb6"
            },
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:17 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/ch_2O4jkR9e1RjUNIyY1mJBOjXt
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_XOAsHHv0soRbCv","request_duration_ms":2229}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:18 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '2921'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_rHAMavzSpTIezx
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "object": "charge",
            "amount": 1000,
            "amount_captured": 1000,
            "amount_refunded": 0,
            "amount_updates": [],
            "application": null,
            "application_fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
            "application_fee_amount": 30,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY1hweesdH",
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": "GUMROAD.COM",
            "captured": true,
            "created": 1698150615,
            "currency": "usd",
            "customer": null,
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": "acct_1O4jkNS9lowfYeb6",
            "order": null,
            "outcome": {
              "network_status": "approved_by_network",
              "reason": null,
              "risk_level": "normal",
              "risk_score": 40,
              "seller_message": "Payment complete.",
              "type": "authorized"
            },
            "paid": true,
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "payment_method": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "payment_method_details": {
              "card": {
                "amount_authorized": 1000,
                "brand": "visa",
                "checks": {
                  "address_line1_check": null,
                  "address_postal_code_check": null,
                  "cvc_check": "pass"
                },
                "country": "US",
                "exp_month": 12,
                "exp_year": 2023,
                "extended_authorization": {
                  "status": "disabled"
                },
                "fingerprint": "W691J2Ye3VDoq6Ij",
                "funding": "credit",
                "incremental_authorization": {
                  "status": "unavailable"
                },
                "installments": null,
                "last4": "4242",
                "mandate": null,
                "multicapture": {
                  "status": "unavailable"
                },
                "network": "visa",
                "network_token": {
                  "used": false
                },
                "overcapture": {
                  "maximum_amount_capturable": 1000,
                  "status": "unavailable"
                },
                "three_d_secure": null,
                "wallet": null
              },
              "type": "card"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo2fHeqQYyBl5tOrHPfDosFpAyMMaf-0EasShOjLz3LL4qbbyhmNCWfQFq7SjAWCJGQG2VCOGFEFqG7Bk",
            "refunded": false,
            "review": null,
            "shipping": null,
            "source": null,
            "source_transfer": null,
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "transfer_data": {
              "amount": null,
              "destination": "acct_1O4jkNS9lowfYeb6"
            },
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:17 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/ch_2O4jkR9e1RjUNIyY1mJBOjXt
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_rHAMavzSpTIezx","request_duration_ms":411}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:18 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '2921'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_KhukzK9NdbLg69
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "object": "charge",
            "amount": 1000,
            "amount_captured": 1000,
            "amount_refunded": 0,
            "amount_updates": [],
            "application": null,
            "application_fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
            "application_fee_amount": 30,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY1hweesdH",
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": "GUMROAD.COM",
            "captured": true,
            "created": 1698150615,
            "currency": "usd",
            "customer": null,
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": "acct_1O4jkNS9lowfYeb6",
            "order": null,
            "outcome": {
              "network_status": "approved_by_network",
              "reason": null,
              "risk_level": "normal",
              "risk_score": 40,
              "seller_message": "Payment complete.",
              "type": "authorized"
            },
            "paid": true,
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "payment_method": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "payment_method_details": {
              "card": {
                "amount_authorized": 1000,
                "brand": "visa",
                "checks": {
                  "address_line1_check": null,
                  "address_postal_code_check": null,
                  "cvc_check": "pass"
                },
                "country": "US",
                "exp_month": 12,
                "exp_year": 2023,
                "extended_authorization": {
                  "status": "disabled"
                },
                "fingerprint": "W691J2Ye3VDoq6Ij",
                "funding": "credit",
                "incremental_authorization": {
                  "status": "unavailable"
                },
                "installments": null,
                "last4": "4242",
                "mandate": null,
                "multicapture": {
                  "status": "unavailable"
                },
                "network": "visa",
                "network_token": {
                  "used": false
                },
                "overcapture": {
                  "maximum_amount_capturable": 1000,
                  "status": "unavailable"
                },
                "three_d_secure": null,
                "wallet": null
              },
              "type": "card"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo2vHeqQYyBpbWahLrgTosFjpnLgoAa14JoC43YJB9UciUJxcknRZBSVtWPqp6pU6MdK3t3flqyljXU6I",
            "refunded": false,
            "review": null,
            "shipping": null,
            "source": null,
            "source_transfer": null,
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "transfer_data": {
              "amount": null,
              "destination": "acct_1O4jkNS9lowfYeb6"
            },
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:18 GMT
  - request:
      method: post
      uri: https://api.stripe.com/v1/refunds
      body:
        encoding: UTF-8
        string: charge=ch_2O4jkR9e1RjUNIyY1mJBOjXt&amount=500&reverse_transfer=true&refund_application_fee=true
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_KhukzK9NdbLg69","request_duration_ms":443}}'
        Idempotency-Key:
          - e7ad3ca1-5b55-49f1-9bb8-ef8f206185ff
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:21 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '455'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Idempotency-Key:
          - e7ad3ca1-5b55-49f1-9bb8-ef8f206185ff
        Original-Request:
          - req_PAasFJ0k0Igsq7
        Request-Id:
          - req_PAasFJ0k0Igsq7
        Stripe-Should-Retry:
          - 'false'
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "re_2O4jkR9e1RjUNIyY12bVhvWI",
            "object": "refund",
            "amount": 500,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY11FyA7PQ",
            "charge": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "created": 1698150619,
            "currency": "usd",
            "metadata": {},
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "reason": null,
            "receipt_number": null,
            "source_transfer_reversal": null,
            "status": "succeeded",
            "transfer_reversal": "trr_0O4jkV9e1RjUNIyYLH44ZaAx"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:21 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/refunds/re_2O4jkR9e1RjUNIyY12bVhvWI?expand%5B%5D=balance_transaction
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_PAasFJ0k0Igsq7","request_duration_ms":2829}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:21 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '1048'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds%2F%3Arefund; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_X38wkdBMajZlYq
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "re_2O4jkR9e1RjUNIyY12bVhvWI",
            "object": "refund",
            "amount": 500,
            "balance_transaction": {
              "id": "txn_2O4jkR9e1RjUNIyY11FyA7PQ",
              "object": "balance_transaction",
              "amount": -671,
              "available_on": 1698710400,
              "created": 1698150619,
              "currency": "cad",
              "description": "REFUND FOR CHARGE",
              "exchange_rate": 1.34207,
              "fee": -20,
              "fee_details": [
                {
                  "amount": -20,
                  "application": null,
                  "currency": "cad",
                  "description": "Stripe processing fee refund",
                  "type": "stripe_fee"
                }
              ],
              "net": -651,
              "reporting_category": "refund",
              "source": "re_2O4jkR9e1RjUNIyY12bVhvWI",
              "status": "pending",
              "type": "refund"
            },
            "charge": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "created": 1698150619,
            "currency": "usd",
            "metadata": {},
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "reason": null,
            "receipt_number": null,
            "source_transfer_reversal": null,
            "status": "succeeded",
            "transfer_reversal": "trr_0O4jkV9e1RjUNIyYLH44ZaAx"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:21 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/ch_2O4jkR9e1RjUNIyY1mJBOjXt?expand%5B%5D=application_fee.refunds.data.balance_transaction&expand%5B%5D=balance_transaction
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_X38wkdBMajZlYq","request_duration_ms":416}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:22 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '5044'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_U0RF4MqB6QspaP
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "object": "charge",
            "amount": 1000,
            "amount_captured": 1000,
            "amount_refunded": 500,
            "amount_updates": [],
            "application": null,
            "application_fee": {
              "id": "fee_1O4jkSS9lowfYeb6saQWeKbv",
              "object": "application_fee",
              "account": "acct_1O4jkNS9lowfYeb6",
              "amount": 30,
              "amount_refunded": 15,
              "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
              "balance_transaction": "txn_0O4jkV9e1RjUNIyY6K7X85qe",
              "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
              "created": 1698150616,
              "currency": "usd",
              "livemode": false,
              "originating_transaction": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
              "refunded": false,
              "refunds": {
                "object": "list",
                "data": [
                  {
                    "id": "fr_1O4jkVS9lowfYeb6bLIE9pgP",
                    "object": "fee_refund",
                    "amount": 20,
                    "balance_transaction": {
                      "id": "txn_0O4jkV9e1RjUNIyYgvRmK11s",
                      "object": "balance_transaction",
                      "amount": -15,
                      "available_on": 1698710400,
                      "created": 1698150619,
                      "currency": "usd",
                      "description": "REFUND FOR APPLICATION FEE",
                      "exchange_rate": 1.36946,
                      "fee": 0,
                      "fee_details": [],
                      "net": -15,
                      "reporting_category": "platform_earning_refund",
                      "source": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                      "status": "pending",
                      "type": "application_fee_refund"
                    },
                    "created": 1698150619,
                    "currency": "cad",
                    "fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                    "metadata": {}
                  }
                ],
                "has_more": false,
                "total_count": 1,
                "url": "/v1/application_fees/fee_1O4jkSS9lowfYeb6saQWeKbv/refunds"
              }
            },
            "application_fee_amount": 30,
            "balance_transaction": {
              "id": "txn_2O4jkR9e1RjUNIyY1hweesdH",
              "object": "balance_transaction",
              "amount": 1342,
              "available_on": 1698710400,
              "created": 1698150615,
              "currency": "cad",
              "description": null,
              "exchange_rate": 1.34207,
              "fee": 69,
              "fee_details": [
                {
                  "amount": 69,
                  "application": null,
                  "currency": "cad",
                  "description": "Stripe processing fees",
                  "type": "stripe_fee"
                }
              ],
              "net": 1273,
              "reporting_category": "charge",
              "source": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
              "status": "pending",
              "type": "charge"
            },
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": "GUMROAD.COM",
            "captured": true,
            "created": 1698150615,
            "currency": "usd",
            "customer": null,
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": "acct_1O4jkNS9lowfYeb6",
            "order": null,
            "outcome": {
              "network_status": "approved_by_network",
              "reason": null,
              "risk_level": "normal",
              "risk_score": 40,
              "seller_message": "Payment complete.",
              "type": "authorized"
            },
            "paid": true,
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "payment_method": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "payment_method_details": {
              "card": {
                "amount_authorized": 1000,
                "brand": "visa",
                "checks": {
                  "address_line1_check": null,
                  "address_postal_code_check": null,
                  "cvc_check": "pass"
                },
                "country": "US",
                "exp_month": 12,
                "exp_year": 2023,
                "extended_authorization": {
                  "status": "disabled"
                },
                "fingerprint": "W691J2Ye3VDoq6Ij",
                "funding": "credit",
                "incremental_authorization": {
                  "status": "unavailable"
                },
                "installments": null,
                "last4": "4242",
                "mandate": null,
                "multicapture": {
                  "status": "unavailable"
                },
                "network": "visa",
                "network_token": {
                  "used": false
                },
                "overcapture": {
                  "maximum_amount_capturable": 1000,
                  "status": "unavailable"
                },
                "three_d_secure": null,
                "wallet": null
              },
              "type": "card"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo3vHeqQYyBrz4ZPiDvjosFg037DBqZkrENisH8L7IhAA9D8fNryOjG6xmQ10QE6RCXoZC31nk7sasrGA",
            "refunded": false,
            "review": null,
            "shipping": null,
            "source": null,
            "source_transfer": null,
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "transfer_data": {
              "amount": null,
              "destination": "acct_1O4jkNS9lowfYeb6"
            },
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:22 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/transfers/tr_2O4jkR9e1RjUNIyY1sgCGWAh
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_U0RF4MqB6QspaP","request_duration_ms":483}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:22 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '1150'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Ftransfers%2F%3Atransfer;
            block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action
            'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample';
            style-src 'self'
        Request-Id:
          - req_ulvIotJmR6uqWa
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "object": "transfer",
            "amount": 1342,
            "amount_reversed": 671,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY1zdS1Mon",
            "created": 1698150616,
            "currency": "cad",
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "destination_payment": "py_1O4jkSS9lowfYeb6HTfOtT49",
            "livemode": false,
            "metadata": {},
            "reversals": {
              "object": "list",
              "data": [
                {
                  "id": "trr_0O4jkV9e1RjUNIyYLH44ZaAx",
                  "object": "transfer_reversal",
                  "amount": 671,
                  "balance_transaction": "txn_0O4jkW9e1RjUNIyYRnAf4zc5",
                  "created": 1698150619,
                  "currency": "cad",
                  "destination_payment_refund": "pyr_1O4jkVS9lowfYeb6J3mlCr5f",
                  "metadata": {},
                  "source_refund": "re_2O4jkR9e1RjUNIyY12bVhvWI",
                  "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh"
                }
              ],
              "has_more": false,
              "total_count": 1,
              "url": "/v1/transfers/tr_2O4jkR9e1RjUNIyY1sgCGWAh/reversals"
            },
            "reversed": false,
            "source_transaction": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "source_type": "card",
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:22 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/py_1O4jkSS9lowfYeb6HTfOtT49?expand%5B%5D=application_fee.refunds&expand%5B%5D=refunds.data.balance_transaction
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_ulvIotJmR6uqWa","request_duration_ms":341}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Stripe-Account:
          - acct_1O4jkNS9lowfYeb6
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:22 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '4359'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_4IiOKXHnfWGzkA
        Stripe-Account:
          - acct_1O4jkNS9lowfYeb6
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "py_1O4jkSS9lowfYeb6HTfOtT49",
            "object": "charge",
            "amount": 1342,
            "amount_captured": 1342,
            "amount_refunded": 671,
            "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
            "application_fee": {
              "id": "fee_1O4jkSS9lowfYeb6saQWeKbv",
              "object": "application_fee",
              "account": "acct_1O4jkNS9lowfYeb6",
              "amount": 30,
              "amount_refunded": 15,
              "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
              "balance_transaction": "txn_0O4jkV9e1RjUNIyY6K7X85qe",
              "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
              "created": 1698150616,
              "currency": "usd",
              "livemode": false,
              "originating_transaction": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
              "refunded": false,
              "refunds": {
                "object": "list",
                "data": [
                  {
                    "id": "fr_1O4jkVS9lowfYeb6bLIE9pgP",
                    "object": "fee_refund",
                    "amount": 20,
                    "balance_transaction": "txn_0O4jkV9e1RjUNIyYgvRmK11s",
                    "created": 1698150619,
                    "currency": "cad",
                    "fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                    "metadata": {}
                  }
                ],
                "has_more": false,
                "total_count": 1,
                "url": "/v1/application_fees/fee_1O4jkSS9lowfYeb6saQWeKbv/refunds"
              }
            },
            "application_fee_amount": 40,
            "balance_transaction": "txn_1O4jkSS9lowfYeb6BIhhQGM0",
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": null,
            "captured": true,
            "created": 1698150616,
            "currency": "cad",
            "customer": null,
            "description": null,
            "destination": null,
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": null,
            "order": null,
            "outcome": null,
            "paid": true,
            "payment_intent": null,
            "payment_method": null,
            "payment_method_details": {
              "stripe_account": {},
              "type": "stripe_account"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaFwoVYWNjdF8xTzRqa05TOWxvd2ZZZWI2KN7x3qkGMgZ6NGhfpNs6LBZWmACscAzYZfSh6TpaXxPgHmnXyrQWx1vCZlTukShTBcMXlvwQA0reMZUn",
            "refunded": false,
            "refunds": {
              "object": "list",
              "data": [
                {
                  "id": "pyr_1O4jkVS9lowfYeb6J3mlCr5f",
                  "object": "refund",
                  "amount": 671,
                  "balance_transaction": {
                    "id": "txn_1O4jkWS9lowfYeb6Cpc7B3kb",
                    "object": "balance_transaction",
                    "amount": -671,
                    "available_on": 1698710400,
                    "created": 1698150619,
                    "currency": "cad",
                    "description": "REFUND FOR PAYMENT",
                    "exchange_rate": null,
                    "fee": 0,
                    "fee_details": [],
                    "net": -671,
                    "reporting_category": "refund",
                    "source": "pyr_1O4jkVS9lowfYeb6J3mlCr5f",
                    "status": "pending",
                    "type": "payment_refund"
                  },
                  "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
                  "created": 1698150619,
                  "currency": "cad",
                  "metadata": {},
                  "payment_intent": null,
                  "reason": null,
                  "receipt_number": null,
                  "source_transfer_reversal": "trr_0O4jkV9e1RjUNIyYLH44ZaAx",
                  "status": "succeeded",
                  "transfer_reversal": "trr_0O4jkV9e1RjUNIyYLH44ZaAx"
                }
              ],
              "has_more": false,
              "total_count": 1,
              "url": "/v1/charges/py_1O4jkSS9lowfYeb6HTfOtT49/refunds"
            },
            "review": null,
            "shipping": null,
            "source": {
              "id": "9e1RjUNIyYGpA9Cfh3RmQxxTzb1aakpE",
              "object": "account",
              "application_icon": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV96QURJZllYTVhmQTEwQWswUmg3MlRpOGI00M3h6olFO",
              "application_logo": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV9WNnByazhHekswejFlUGh3a1M0dnRxZko00eY1DsvrA",
              "application_name": "Gumroad",
              "application_url": "https://gumroad.com"
            },
            "source_transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer_data": null,
            "transfer_group": null
          }
    recorded_at: Tue, 24 Oct 2023 12:30:22 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/ch_2O4jkR9e1RjUNIyY1mJBOjXt
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_4IiOKXHnfWGzkA","request_duration_ms":415}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:23 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '2923'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_ALRusvQ8RdJSs8
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "object": "charge",
            "amount": 1000,
            "amount_captured": 1000,
            "amount_refunded": 500,
            "amount_updates": [],
            "application": null,
            "application_fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
            "application_fee_amount": 30,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY1hweesdH",
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": "GUMROAD.COM",
            "captured": true,
            "created": 1698150615,
            "currency": "usd",
            "customer": null,
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": "acct_1O4jkNS9lowfYeb6",
            "order": null,
            "outcome": {
              "network_status": "approved_by_network",
              "reason": null,
              "risk_level": "normal",
              "risk_score": 40,
              "seller_message": "Payment complete.",
              "type": "authorized"
            },
            "paid": true,
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "payment_method": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "payment_method_details": {
              "card": {
                "amount_authorized": 1000,
                "brand": "visa",
                "checks": {
                  "address_line1_check": null,
                  "address_postal_code_check": null,
                  "cvc_check": "pass"
                },
                "country": "US",
                "exp_month": 12,
                "exp_year": 2023,
                "extended_authorization": {
                  "status": "disabled"
                },
                "fingerprint": "W691J2Ye3VDoq6Ij",
                "funding": "credit",
                "incremental_authorization": {
                  "status": "unavailable"
                },
                "installments": null,
                "last4": "4242",
                "mandate": null,
                "multicapture": {
                  "status": "unavailable"
                },
                "network": "visa",
                "network_token": {
                  "used": false
                },
                "overcapture": {
                  "maximum_amount_capturable": 1000,
                  "status": "unavailable"
                },
                "three_d_secure": null,
                "wallet": null
              },
              "type": "card"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo3_HeqQYyBi2jQ0U54DosFm_i7Ue9A05Uid4riExzoJikspNR5qEPFY9OIpBunGK814Q1XQ61wcfknhk",
            "refunded": false,
            "review": null,
            "shipping": null,
            "source": null,
            "source_transfer": null,
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "transfer_data": {
              "amount": null,
              "destination": "acct_1O4jkNS9lowfYeb6"
            },
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:23 GMT
  - request:
      method: post
      uri: https://api.stripe.com/v1/refunds
      body:
        encoding: UTF-8
        string: charge=ch_2O4jkR9e1RjUNIyY1mJBOjXt&amount=500&reverse_transfer=true&refund_application_fee=true
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_ALRusvQ8RdJSs8","request_duration_ms":382}}'
        Idempotency-Key:
          - 2bcf2d44-c6f8-4f04-ae18-ae77deb11165
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:26 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '455'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Idempotency-Key:
          - 2bcf2d44-c6f8-4f04-ae18-ae77deb11165
        Original-Request:
          - req_Zi3pkbx9WePexP
        Request-Id:
          - req_Zi3pkbx9WePexP
        Stripe-Should-Retry:
          - 'false'
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "re_2O4jkR9e1RjUNIyY1jYwxg41",
            "object": "refund",
            "amount": 500,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY1n5mOGd8",
            "charge": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "created": 1698150624,
            "currency": "usd",
            "metadata": {},
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "reason": null,
            "receipt_number": null,
            "source_transfer_reversal": null,
            "status": "succeeded",
            "transfer_reversal": "trr_0O4jka9e1RjUNIyYpHYpPSYZ"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:25 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/refunds/re_2O4jkR9e1RjUNIyY1jYwxg41?expand%5B%5D=balance_transaction
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_Zi3pkbx9WePexP","request_duration_ms":2700}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:26 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '1048'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds%2F%3Arefund; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_L94btRjUewGS2W
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "re_2O4jkR9e1RjUNIyY1jYwxg41",
            "object": "refund",
            "amount": 500,
            "balance_transaction": {
              "id": "txn_2O4jkR9e1RjUNIyY1n5mOGd8",
              "object": "balance_transaction",
              "amount": -671,
              "available_on": 1698710400,
              "created": 1698150624,
              "currency": "cad",
              "description": "REFUND FOR CHARGE",
              "exchange_rate": 1.34207,
              "fee": -49,
              "fee_details": [
                {
                  "amount": -49,
                  "application": null,
                  "currency": "cad",
                  "description": "Stripe processing fee refund",
                  "type": "stripe_fee"
                }
              ],
              "net": -622,
              "reporting_category": "refund",
              "source": "re_2O4jkR9e1RjUNIyY1jYwxg41",
              "status": "pending",
              "type": "refund"
            },
            "charge": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "created": 1698150624,
            "currency": "usd",
            "metadata": {},
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "reason": null,
            "receipt_number": null,
            "source_transfer_reversal": null,
            "status": "succeeded",
            "transfer_reversal": "trr_0O4jka9e1RjUNIyYpHYpPSYZ"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:26 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/ch_2O4jkR9e1RjUNIyY1mJBOjXt?expand%5B%5D=application_fee.refunds.data.balance_transaction&expand%5B%5D=balance_transaction
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_L94btRjUewGS2W","request_duration_ms":799}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:27 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '5946'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_zK5ams1QbrcqSY
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "object": "charge",
            "amount": 1000,
            "amount_captured": 1000,
            "amount_refunded": 1000,
            "amount_updates": [],
            "application": null,
            "application_fee": {
              "id": "fee_1O4jkSS9lowfYeb6saQWeKbv",
              "object": "application_fee",
              "account": "acct_1O4jkNS9lowfYeb6",
              "amount": 30,
              "amount_refunded": 30,
              "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
              "balance_transaction": "txn_0O4jkV9e1RjUNIyY6K7X85qe",
              "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
              "created": 1698150616,
              "currency": "usd",
              "livemode": false,
              "originating_transaction": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
              "refunded": true,
              "refunds": {
                "object": "list",
                "data": [
                  {
                    "id": "fr_1O4jkaS9lowfYeb67n8ilHTo",
                    "object": "fee_refund",
                    "amount": 20,
                    "balance_transaction": {
                      "id": "txn_0O4jka9e1RjUNIyYNWqn0XA9",
                      "object": "balance_transaction",
                      "amount": -15,
                      "available_on": 1698710400,
                      "created": 1698150624,
                      "currency": "usd",
                      "description": "REFUND FOR APPLICATION FEE",
                      "exchange_rate": 1.36946,
                      "fee": 0,
                      "fee_details": [],
                      "net": -15,
                      "reporting_category": "platform_earning_refund",
                      "source": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                      "status": "pending",
                      "type": "application_fee_refund"
                    },
                    "created": 1698150624,
                    "currency": "cad",
                    "fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                    "metadata": {}
                  },
                  {
                    "id": "fr_1O4jkVS9lowfYeb6bLIE9pgP",
                    "object": "fee_refund",
                    "amount": 20,
                    "balance_transaction": {
                      "id": "txn_0O4jkV9e1RjUNIyYgvRmK11s",
                      "object": "balance_transaction",
                      "amount": -15,
                      "available_on": 1698710400,
                      "created": 1698150619,
                      "currency": "usd",
                      "description": "REFUND FOR APPLICATION FEE",
                      "exchange_rate": 1.36946,
                      "fee": 0,
                      "fee_details": [],
                      "net": -15,
                      "reporting_category": "platform_earning_refund",
                      "source": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                      "status": "pending",
                      "type": "application_fee_refund"
                    },
                    "created": 1698150619,
                    "currency": "cad",
                    "fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                    "metadata": {}
                  }
                ],
                "has_more": false,
                "total_count": 2,
                "url": "/v1/application_fees/fee_1O4jkSS9lowfYeb6saQWeKbv/refunds"
              }
            },
            "application_fee_amount": 30,
            "balance_transaction": {
              "id": "txn_2O4jkR9e1RjUNIyY1hweesdH",
              "object": "balance_transaction",
              "amount": 1342,
              "available_on": 1698710400,
              "created": 1698150615,
              "currency": "cad",
              "description": null,
              "exchange_rate": 1.34207,
              "fee": 69,
              "fee_details": [
                {
                  "amount": 69,
                  "application": null,
                  "currency": "cad",
                  "description": "Stripe processing fees",
                  "type": "stripe_fee"
                }
              ],
              "net": 1273,
              "reporting_category": "charge",
              "source": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
              "status": "pending",
              "type": "charge"
            },
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": "GUMROAD.COM",
            "captured": true,
            "created": 1698150615,
            "currency": "usd",
            "customer": null,
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": "acct_1O4jkNS9lowfYeb6",
            "order": null,
            "outcome": {
              "network_status": "approved_by_network",
              "reason": null,
              "risk_level": "normal",
              "risk_score": 40,
              "seller_message": "Payment complete.",
              "type": "authorized"
            },
            "paid": true,
            "payment_intent": "pi_2O4jkR9e1RjUNIyY1s6D8f0e",
            "payment_method": "pm_0O4jkN9e1RjUNIyYNSoPZ2X2",
            "payment_method_details": {
              "card": {
                "amount_authorized": 1000,
                "brand": "visa",
                "checks": {
                  "address_line1_check": null,
                  "address_postal_code_check": null,
                  "cvc_check": "pass"
                },
                "country": "US",
                "exp_month": 12,
                "exp_year": 2023,
                "extended_authorization": {
                  "status": "disabled"
                },
                "fingerprint": "W691J2Ye3VDoq6Ij",
                "funding": "credit",
                "incremental_authorization": {
                  "status": "unavailable"
                },
                "installments": null,
                "last4": "4242",
                "mandate": null,
                "multicapture": {
                  "status": "unavailable"
                },
                "network": "visa",
                "network_token": {
                  "used": false
                },
                "overcapture": {
                  "maximum_amount_capturable": 1000,
                  "status": "unavailable"
                },
                "three_d_secure": null,
                "wallet": null
              },
              "type": "card"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo4_HeqQYyBsEAMEk4VDosFr_uYm16NxiPiNZftt3MolbnR-RF33Q1i-POeeUEFjGOwSZddJUTY6C1O9k",
            "refunded": true,
            "review": null,
            "shipping": null,
            "source": null,
            "source_transfer": null,
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "transfer_data": {
              "amount": null,
              "destination": "acct_1O4jkNS9lowfYeb6"
            },
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:27 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/transfers/tr_2O4jkR9e1RjUNIyY1sgCGWAh
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_zK5ams1QbrcqSY","request_duration_ms":468}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:27 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '1596'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Ftransfers%2F%3Atransfer;
            block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action
            'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample';
            style-src 'self'
        Request-Id:
          - req_5XcsmWHgOmBvIo
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "object": "transfer",
            "amount": 1342,
            "amount_reversed": 1342,
            "balance_transaction": "txn_2O4jkR9e1RjUNIyY1zdS1Mon",
            "created": 1698150616,
            "currency": "cad",
            "description": null,
            "destination": "acct_1O4jkNS9lowfYeb6",
            "destination_payment": "py_1O4jkSS9lowfYeb6HTfOtT49",
            "livemode": false,
            "metadata": {},
            "reversals": {
              "object": "list",
              "data": [
                {
                  "id": "trr_0O4jka9e1RjUNIyYpHYpPSYZ",
                  "object": "transfer_reversal",
                  "amount": 671,
                  "balance_transaction": "txn_0O4jkb9e1RjUNIyYBHA57O3a",
                  "created": 1698150624,
                  "currency": "cad",
                  "destination_payment_refund": "pyr_1O4jkaS9lowfYeb6YX4cHhs9",
                  "metadata": {},
                  "source_refund": "re_2O4jkR9e1RjUNIyY1jYwxg41",
                  "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh"
                },
                {
                  "id": "trr_0O4jkV9e1RjUNIyYLH44ZaAx",
                  "object": "transfer_reversal",
                  "amount": 671,
                  "balance_transaction": "txn_0O4jkW9e1RjUNIyYRnAf4zc5",
                  "created": 1698150619,
                  "currency": "cad",
                  "destination_payment_refund": "pyr_1O4jkVS9lowfYeb6J3mlCr5f",
                  "metadata": {},
                  "source_refund": "re_2O4jkR9e1RjUNIyY12bVhvWI",
                  "transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh"
                }
              ],
              "has_more": false,
              "total_count": 2,
              "url": "/v1/transfers/tr_2O4jkR9e1RjUNIyY1sgCGWAh/reversals"
            },
            "reversed": true,
            "source_transaction": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
            "source_type": "card",
            "transfer_group": "group_pi_2O4jkR9e1RjUNIyY1s6D8f0e"
          }
    recorded_at: Tue, 24 Oct 2023 12:30:27 GMT
  - request:
      method: get
      uri: https://api.stripe.com/v1/charges/py_1O4jkSS9lowfYeb6HTfOtT49?expand%5B%5D=application_fee.refunds&expand%5B%5D=refunds.data.balance_transaction
      body:
        encoding: US-ASCII
        string: ''
      headers:
        User-Agent:
          - Stripe/v1 RubyBindings/10.0.0
        Authorization:
          - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
        Content-Type:
          - application/x-www-form-urlencoded
        X-Stripe-Client-Telemetry:
          - '{"last_request_metrics":{"request_id":"req_5XcsmWHgOmBvIo","request_duration_ms":447}}'
        Stripe-Version:
          - '2023-10-16'
        X-Stripe-Client-User-Agent:
          - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
        Stripe-Account:
          - acct_1O4jkNS9lowfYeb6
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
        Accept:
          - "*/*"
    response:
      status:
        code: 200
        message: OK
      headers:
        Server:
          - nginx
        Date:
          - Tue, 24 Oct 2023 12:30:28 GMT
        Content-Type:
          - application/json
        Content-Length:
          - '5750'
        Connection:
          - keep-alive
        Access-Control-Allow-Credentials:
          - 'true'
        Access-Control-Allow-Methods:
          - GET,HEAD,PUT,PATCH,POST,DELETE
        Access-Control-Allow-Origin:
          - "*"
        Access-Control-Expose-Headers:
          - Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required
        Access-Control-Max-Age:
          - '300'
        Cache-Control:
          - no-cache, no-store
        Content-Security-Policy-Report-Only:
          - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
            default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
            img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
        Request-Id:
          - req_SACBDnLa5PPTMG
        Stripe-Account:
          - acct_1O4jkNS9lowfYeb6
        Stripe-Version:
          - '2023-10-16'
        Vary:
          - Origin
        X-Stripe-Routing-Context-Priority-Tier:
          - api-testmode
        Strict-Transport-Security:
          - max-age=63072000; includeSubDomains; preload
      body:
        encoding: UTF-8
        string: |-
          {
            "id": "py_1O4jkSS9lowfYeb6HTfOtT49",
            "object": "charge",
            "amount": 1342,
            "amount_captured": 1342,
            "amount_refunded": 1342,
            "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
            "application_fee": {
              "id": "fee_1O4jkSS9lowfYeb6saQWeKbv",
              "object": "application_fee",
              "account": "acct_1O4jkNS9lowfYeb6",
              "amount": 30,
              "amount_refunded": 30,
              "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
              "balance_transaction": "txn_0O4jkV9e1RjUNIyY6K7X85qe",
              "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
              "created": 1698150616,
              "currency": "usd",
              "livemode": false,
              "originating_transaction": "ch_2O4jkR9e1RjUNIyY1mJBOjXt",
              "refunded": true,
              "refunds": {
                "object": "list",
                "data": [
                  {
                    "id": "fr_1O4jkaS9lowfYeb67n8ilHTo",
                    "object": "fee_refund",
                    "amount": 20,
                    "balance_transaction": "txn_0O4jka9e1RjUNIyYNWqn0XA9",
                    "created": 1698150624,
                    "currency": "cad",
                    "fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                    "metadata": {}
                  },
                  {
                    "id": "fr_1O4jkVS9lowfYeb6bLIE9pgP",
                    "object": "fee_refund",
                    "amount": 20,
                    "balance_transaction": "txn_0O4jkV9e1RjUNIyYgvRmK11s",
                    "created": 1698150619,
                    "currency": "cad",
                    "fee": "fee_1O4jkSS9lowfYeb6saQWeKbv",
                    "metadata": {}
                  }
                ],
                "has_more": false,
                "total_count": 2,
                "url": "/v1/application_fees/fee_1O4jkSS9lowfYeb6saQWeKbv/refunds"
              }
            },
            "application_fee_amount": 40,
            "balance_transaction": "txn_1O4jkSS9lowfYeb6BIhhQGM0",
            "billing_details": {
              "address": {
                "city": null,
                "country": null,
                "line1": null,
                "line2": null,
                "postal_code": null,
                "state": null
              },
              "email": null,
              "name": null,
              "phone": null
            },
            "calculated_statement_descriptor": null,
            "captured": true,
            "created": 1698150616,
            "currency": "cad",
            "customer": null,
            "description": null,
            "destination": null,
            "dispute": null,
            "disputed": false,
            "failure_balance_transaction": null,
            "failure_code": null,
            "failure_message": null,
            "fraud_details": {},
            "invoice": null,
            "livemode": false,
            "metadata": {},
            "on_behalf_of": null,
            "order": null,
            "outcome": null,
            "paid": true,
            "payment_intent": null,
            "payment_method": null,
            "payment_method_details": {
              "stripe_account": {},
              "type": "stripe_account"
            },
            "receipt_email": null,
            "receipt_number": null,
            "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaFwoVYWNjdF8xTzRqa05TOWxvd2ZZZWI2KOTx3qkGMgb56EK3vWs6LBaXVHLCywdXjz4m2hMJhZSZHW9X3-ceORAdUo-0cuBsOZq_1mltNnTtROsu",
            "refunded": true,
            "refunds": {
              "object": "list",
              "data": [
                {
                  "id": "pyr_1O4jkaS9lowfYeb6YX4cHhs9",
                  "object": "refund",
                  "amount": 671,
                  "balance_transaction": {
                    "id": "txn_1O4jkbS9lowfYeb6AdnI4J2d",
                    "object": "balance_transaction",
                    "amount": -671,
                    "available_on": 1698710400,
                    "created": 1698150624,
                    "currency": "cad",
                    "description": "REFUND FOR PAYMENT",
                    "exchange_rate": null,
                    "fee": 0,
                    "fee_details": [],
                    "net": -671,
                    "reporting_category": "refund",
                    "source": "pyr_1O4jkaS9lowfYeb6YX4cHhs9",
                    "status": "pending",
                    "type": "payment_refund"
                  },
                  "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
                  "created": 1698150624,
                  "currency": "cad",
                  "metadata": {},
                  "payment_intent": null,
                  "reason": null,
                  "receipt_number": null,
                  "source_transfer_reversal": "trr_0O4jka9e1RjUNIyYpHYpPSYZ",
                  "status": "succeeded",
                  "transfer_reversal": "trr_0O4jka9e1RjUNIyYpHYpPSYZ"
                },
                {
                  "id": "pyr_1O4jkVS9lowfYeb6J3mlCr5f",
                  "object": "refund",
                  "amount": 671,
                  "balance_transaction": {
                    "id": "txn_1O4jkWS9lowfYeb6Cpc7B3kb",
                    "object": "balance_transaction",
                    "amount": -671,
                    "available_on": 1698710400,
                    "created": 1698150619,
                    "currency": "cad",
                    "description": "REFUND FOR PAYMENT",
                    "exchange_rate": null,
                    "fee": 0,
                    "fee_details": [],
                    "net": -671,
                    "reporting_category": "refund",
                    "source": "pyr_1O4jkVS9lowfYeb6J3mlCr5f",
                    "status": "pending",
                    "type": "payment_refund"
                  },
                  "charge": "py_1O4jkSS9lowfYeb6HTfOtT49",
                  "created": 1698150619,
                  "currency": "cad",
                  "metadata": {},
                  "payment_intent": null,
                  "reason": null,
                  "receipt_number": null,
                  "source_transfer_reversal": "trr_0O4jkV9e1RjUNIyYLH44ZaAx",
                  "status": "succeeded",
                  "transfer_reversal": "trr_0O4jkV9e1RjUNIyYLH44ZaAx"
                }
              ],
              "has_more": false,
              "total_count": 2,
              "url": "/v1/charges/py_1O4jkSS9lowfYeb6HTfOtT49/refunds"
            },
            "review": null,
            "shipping": null,
            "source": {
              "id": "9e1RjUNIyYGpA9Cfh3RmQxxTzb1aakpE",
              "object": "account",
              "application_icon": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV96QURJZllYTVhmQTEwQWswUmg3MlRpOGI00M3h6olFO",
              "application_logo": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV9WNnByazhHekswejFlUGh3a1M0dnRxZko00eY1DsvrA",
              "application_name": "Gumroad",
              "application_url": "https://gumroad.com"
            },
            "source_transfer": "tr_2O4jkR9e1RjUNIyY1sgCGWAh",
            "statement_descriptor": null,
            "statement_descriptor_suffix": null,
            "status": "succeeded",
            "transfer_data": null,
            "transfer_group": null
          }
    recorded_at: Tue, 24 Oct 2023 12:30:28 GMT
recorded_with: VCR 6.2.0
