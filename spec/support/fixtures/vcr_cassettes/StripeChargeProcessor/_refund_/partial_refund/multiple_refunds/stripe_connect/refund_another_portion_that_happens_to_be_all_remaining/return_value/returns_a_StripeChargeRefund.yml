---
http_interactions:
- request:
    method: post
    uri: https://api.stripe.com/v1/payment_methods
    body:
      encoding: UTF-8
      string: type=card&card[number]=4242+4242+4242+4242&card[exp_month]=12&card[exp_year]=2023&card[cvc]=123
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_jCqPKEcybRdfVK","request_duration_ms":461}}'
      Idempotency-Key:
      - 321d19c1-f8bd-45a7-8e7b-fc60c30c23f3
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:15 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '931'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_methods; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Idempotency-Key:
      - 321d19c1-f8bd-45a7-8e7b-fc60c30c23f3
      Original-Request:
      - req_FqwyzuTgKZXXOh
      Request-Id:
      - req_FqwyzuTgKZXXOh
      Stripe-Should-Retry:
      - 'false'
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "object": "payment_method",
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "card": {
            "brand": "visa",
            "checks": {
              "address_line1_check": null,
              "address_postal_code_check": null,
              "cvc_check": "unchecked"
            },
            "country": "US",
            "exp_month": 12,
            "exp_year": 2023,
            "fingerprint": "W691J2Ye3VDoq6Ij",
            "funding": "credit",
            "generated_from": null,
            "last4": "4242",
            "networks": {
              "available": [
                "visa"
              ],
              "preferred": null
            },
            "three_d_secure_usage": {
              "supported": true
            },
            "wallet": null
          },
          "created": 1698684615,
          "customer": null,
          "livemode": false,
          "metadata": {},
          "type": "card"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:15 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/accounts
    body:
      encoding: UTF-8
      string: country=CA&default_currency=cad&type=custom&business_type=individual&tos_acceptance[date]=1427846400&tos_acceptance[ip]=54.234.242.13&business_profile[url]=www.gumroad.com&business_profile[product_description]=Test+product&business_profile[mcc]=5734&individual[verification][document][front]=file_identity_document_success&individual[dob][day]=1&individual[dob][month]=1&individual[dob][year]=1901&individual[first_name]=Chuck&individual[last_name]=Bartowski&individual[phone]=0000000000&individual[id_number]=000000000&individual[email]=me%40example.com&individual[address][line1]=address_full_match&individual[address][city]=Toronto&individual[address][state]=ON&individual[address][postal_code]=M4C+1T2&individual[address][country]=CA&requested_capabilities[0]=card_payments&requested_capabilities[1]=transfers&external_account[object]=bank_account&external_account[country]=CA&external_account[currency]=cad&external_account[routing_number]=11000-000&external_account[account_number]=000123456789
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_FqwyzuTgKZXXOh","request_duration_ms":533}}'
      Idempotency-Key:
      - 3fbc35c2-c751-4973-8be5-1851d320c4f0
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:19 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '5427'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Faccounts; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Idempotency-Key:
      - 3fbc35c2-c751-4973-8be5-1851d320c4f0
      Original-Request:
      - req_WtwOWyyts7jL0T
      Request-Id:
      - req_WtwOWyyts7jL0T
      Stripe-Should-Retry:
      - 'false'
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "acct_1O6yfMS0JUEY6lev",
          "object": "account",
          "business_profile": {
            "mcc": "5734",
            "name": null,
            "product_description": "Test product",
            "support_address": null,
            "support_email": null,
            "support_phone": null,
            "support_url": null,
            "url": "www.gumroad.com"
          },
          "business_type": "individual",
          "capabilities": {
            "card_payments": "active",
            "transfers": "active"
          },
          "charges_enabled": true,
          "company": {
            "address": {
              "city": "Toronto",
              "country": "CA",
              "line1": "address_full_match",
              "line2": null,
              "postal_code": "M4C 1T2",
              "state": "ON"
            },
            "directors_provided": true,
            "executives_provided": true,
            "name": null,
            "owners_provided": true,
            "phone": "+10000000000",
            "tax_id_provided": false,
            "verification": {
              "document": {
                "back": null,
                "details": null,
                "details_code": null,
                "front": null
              }
            }
          },
          "country": "CA",
          "created": 1698684617,
          "default_currency": "cad",
          "details_submitted": true,
          "email": null,
          "external_accounts": {
            "object": "list",
            "data": [
              {
                "id": "ba_1O6yfMS0JUEY6levySgGnnyM",
                "object": "bank_account",
                "account": "acct_1O6yfMS0JUEY6lev",
                "account_holder_name": null,
                "account_holder_type": null,
                "account_type": null,
                "available_payout_methods": [
                  "standard"
                ],
                "bank_name": "STRIPE TEST BANK",
                "country": "CA",
                "currency": "cad",
                "default_for_currency": true,
                "fingerprint": "bHAdUgrfRKNYlJ4L",
                "future_requirements": {
                  "currently_due": [],
                  "errors": [],
                  "past_due": [],
                  "pending_verification": []
                },
                "last4": "6789",
                "metadata": {},
                "requirements": {
                  "currently_due": [],
                  "errors": [],
                  "past_due": [],
                  "pending_verification": []
                },
                "routing_number": "11000-000",
                "status": "new"
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/accounts/acct_1O6yfMS0JUEY6lev/external_accounts"
          },
          "future_requirements": {
            "alternatives": [],
            "current_deadline": null,
            "currently_due": [],
            "disabled_reason": null,
            "errors": [],
            "eventually_due": [],
            "past_due": [],
            "pending_verification": []
          },
          "individual": {
            "id": "person_1O6yfMS0JUEY6levwnlzkMfi",
            "object": "person",
            "account": "acct_1O6yfMS0JUEY6lev",
            "address": {
              "city": "Toronto",
              "country": "CA",
              "line1": "address_full_match",
              "line2": null,
              "postal_code": "M4C 1T2",
              "state": "ON"
            },
            "created": 1698684617,
            "dob": {
              "day": 1,
              "month": 1,
              "year": 1901
            },
            "email": "me@example.com",
            "first_name": "Chuck",
            "future_requirements": {
              "alternatives": [],
              "currently_due": [],
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "id_number_provided": true,
            "last_name": "Bartowski",
            "metadata": {},
            "phone": "+10000000000",
            "relationship": {
              "director": false,
              "executive": false,
              "legal_guardian": false,
              "owner": false,
              "percent_ownership": null,
              "representative": true,
              "title": null
            },
            "requirements": {
              "alternatives": [],
              "currently_due": [],
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "ssn_last_4_provided": true,
            "verification": {
              "additional_document": {
                "back": null,
                "details": null,
                "details_code": null,
                "front": null
              },
              "details": null,
              "details_code": null,
              "document": {
                "back": null,
                "details": null,
                "details_code": null,
                "front": "file_0O6yfM9e1RjUNIyYDqfifRPH"
              },
              "status": "pending"
            }
          },
          "metadata": {},
          "payouts_enabled": true,
          "requirements": {
            "alternatives": [],
            "current_deadline": null,
            "currently_due": [],
            "disabled_reason": null,
            "errors": [],
            "eventually_due": [],
            "past_due": [],
            "pending_verification": []
          },
          "settings": {
            "bacs_debit_payments": {},
            "branding": {
              "icon": null,
              "logo": null,
              "primary_color": null,
              "secondary_color": null
            },
            "card_issuing": {
              "tos_acceptance": {
                "date": null,
                "ip": null
              }
            },
            "card_payments": {
              "decline_on": {
                "avs_failure": false,
                "cvc_failure": false
              },
              "statement_descriptor_prefix": "GUMROAD.CO",
              "statement_descriptor_prefix_kana": null,
              "statement_descriptor_prefix_kanji": null
            },
            "dashboard": {
              "display_name": "Gumroad",
              "timezone": "Etc/UTC"
            },
            "payments": {
              "statement_descriptor": "GUMROAD.COM",
              "statement_descriptor_kana": null,
              "statement_descriptor_kanji": null
            },
            "payouts": {
              "debit_negative_balances": false,
              "schedule": {
                "delay_days": 7,
                "interval": "daily"
              },
              "statement_descriptor": null
            },
            "sepa_debit_payments": {}
          },
          "tos_acceptance": {
            "date": 1427846400,
            "ip": "54.234.242.13",
            "user_agent": null
          },
          "type": "custom"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:19 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/accounts/acct_1O6yfMS0JUEY6lev
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_WtwOWyyts7jL0T","request_duration_ms":3663}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:19 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '5427'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Faccounts%2F%3Aaccount; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_ycvALgBHATytXj
      Stripe-Account:
      - acct_1O6yfMS0JUEY6lev
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "acct_1O6yfMS0JUEY6lev",
          "object": "account",
          "business_profile": {
            "mcc": "5734",
            "name": null,
            "product_description": "Test product",
            "support_address": null,
            "support_email": null,
            "support_phone": null,
            "support_url": null,
            "url": "www.gumroad.com"
          },
          "business_type": "individual",
          "capabilities": {
            "card_payments": "active",
            "transfers": "active"
          },
          "charges_enabled": true,
          "company": {
            "address": {
              "city": "Toronto",
              "country": "CA",
              "line1": "address_full_match",
              "line2": null,
              "postal_code": "M4C 1T2",
              "state": "ON"
            },
            "directors_provided": true,
            "executives_provided": true,
            "name": null,
            "owners_provided": true,
            "phone": "+10000000000",
            "tax_id_provided": false,
            "verification": {
              "document": {
                "back": null,
                "details": null,
                "details_code": null,
                "front": null
              }
            }
          },
          "country": "CA",
          "created": 1698684617,
          "default_currency": "cad",
          "details_submitted": true,
          "email": null,
          "external_accounts": {
            "object": "list",
            "data": [
              {
                "id": "ba_1O6yfMS0JUEY6levySgGnnyM",
                "object": "bank_account",
                "account": "acct_1O6yfMS0JUEY6lev",
                "account_holder_name": null,
                "account_holder_type": null,
                "account_type": null,
                "available_payout_methods": [
                  "standard"
                ],
                "bank_name": "STRIPE TEST BANK",
                "country": "CA",
                "currency": "cad",
                "default_for_currency": true,
                "fingerprint": "bHAdUgrfRKNYlJ4L",
                "future_requirements": {
                  "currently_due": [],
                  "errors": [],
                  "past_due": [],
                  "pending_verification": []
                },
                "last4": "6789",
                "metadata": {},
                "requirements": {
                  "currently_due": [],
                  "errors": [],
                  "past_due": [],
                  "pending_verification": []
                },
                "routing_number": "11000-000",
                "status": "new"
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/accounts/acct_1O6yfMS0JUEY6lev/external_accounts"
          },
          "future_requirements": {
            "alternatives": [],
            "current_deadline": null,
            "currently_due": [],
            "disabled_reason": null,
            "errors": [],
            "eventually_due": [],
            "past_due": [],
            "pending_verification": []
          },
          "individual": {
            "id": "person_1O6yfMS0JUEY6levwnlzkMfi",
            "object": "person",
            "account": "acct_1O6yfMS0JUEY6lev",
            "address": {
              "city": "Toronto",
              "country": "CA",
              "line1": "address_full_match",
              "line2": null,
              "postal_code": "M4C 1T2",
              "state": "ON"
            },
            "created": 1698684617,
            "dob": {
              "day": 1,
              "month": 1,
              "year": 1901
            },
            "email": "me@example.com",
            "first_name": "Chuck",
            "future_requirements": {
              "alternatives": [],
              "currently_due": [],
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "id_number_provided": true,
            "last_name": "Bartowski",
            "metadata": {},
            "phone": "+10000000000",
            "relationship": {
              "director": false,
              "executive": false,
              "legal_guardian": false,
              "owner": false,
              "percent_ownership": null,
              "representative": true,
              "title": null
            },
            "requirements": {
              "alternatives": [],
              "currently_due": [],
              "errors": [],
              "eventually_due": [],
              "past_due": [],
              "pending_verification": []
            },
            "ssn_last_4_provided": true,
            "verification": {
              "additional_document": {
                "back": null,
                "details": null,
                "details_code": null,
                "front": null
              },
              "details": null,
              "details_code": null,
              "document": {
                "back": null,
                "details": null,
                "details_code": null,
                "front": "file_0O6yfM9e1RjUNIyYDqfifRPH"
              },
              "status": "pending"
            }
          },
          "metadata": {},
          "payouts_enabled": true,
          "requirements": {
            "alternatives": [],
            "current_deadline": null,
            "currently_due": [],
            "disabled_reason": null,
            "errors": [],
            "eventually_due": [],
            "past_due": [],
            "pending_verification": []
          },
          "settings": {
            "bacs_debit_payments": {},
            "branding": {
              "icon": null,
              "logo": null,
              "primary_color": null,
              "secondary_color": null
            },
            "card_issuing": {
              "tos_acceptance": {
                "date": null,
                "ip": null
              }
            },
            "card_payments": {
              "decline_on": {
                "avs_failure": false,
                "cvc_failure": false
              },
              "statement_descriptor_prefix": "GUMROAD.CO",
              "statement_descriptor_prefix_kana": null,
              "statement_descriptor_prefix_kanji": null
            },
            "dashboard": {
              "display_name": "Gumroad",
              "timezone": "Etc/UTC"
            },
            "payments": {
              "statement_descriptor": "GUMROAD.COM",
              "statement_descriptor_kana": null,
              "statement_descriptor_kanji": null
            },
            "payouts": {
              "debit_negative_balances": false,
              "schedule": {
                "delay_days": 7,
                "interval": "daily"
              },
              "statement_descriptor": null
            },
            "sepa_debit_payments": {}
          },
          "tos_acceptance": {
            "date": 1427846400,
            "ip": "54.234.242.13",
            "user_agent": null
          },
          "type": "custom"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:19 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/payment_intents
    body:
      encoding: UTF-8
      string: payment_method=pm_0O6yfL9e1RjUNIyYWhQiyJNi&confirmation_method=manual&payment_method_types[0]=card&confirm=true&amount=1000&currency=usd&transfer_data[destination]=acct_1O6yfMS0JUEY6lev&on_behalf_of=acct_1O6yfMS0JUEY6lev&application_fee_amount=30
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_ycvALgBHATytXj","request_duration_ms":575}}'
      Idempotency-Key:
      - acf578a8-e855-4c79-a820-7c93ee658a5d
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:22 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1452'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Idempotency-Key:
      - acf578a8-e855-4c79-a820-7c93ee658a5d
      Original-Request:
      - req_HUZ0lUkDfVYYzr
      Request-Id:
      - req_HUZ0lUkDfVYYzr
      Stripe-Should-Retry:
      - 'false'
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "object": "payment_intent",
          "amount": 1000,
          "amount_capturable": 0,
          "amount_details": {
            "tip": {}
          },
          "amount_received": 1000,
          "application": null,
          "application_fee_amount": 30,
          "automatic_payment_methods": null,
          "canceled_at": null,
          "cancellation_reason": null,
          "capture_method": "automatic",
          "client_secret": "pi_2O6yfQ9e1RjUNIyY05WvjSKW_secret_1puOrgstyQJ0zz3y5BN08rjTC",
          "confirmation_method": "manual",
          "created": 1698684620,
          "currency": "usd",
          "customer": null,
          "description": null,
          "invoice": null,
          "last_payment_error": null,
          "latest_charge": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "livemode": false,
          "metadata": {},
          "next_action": null,
          "on_behalf_of": "acct_1O6yfMS0JUEY6lev",
          "payment_method": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "payment_method_configuration_details": null,
          "payment_method_options": {
            "card": {
              "installments": null,
              "mandate_options": null,
              "network": null,
              "request_three_d_secure": "automatic"
            }
          },
          "payment_method_types": [
            "card"
          ],
          "processing": null,
          "receipt_email": null,
          "review": null,
          "setup_future_usage": null,
          "shipping": null,
          "source": null,
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer_data": {
            "destination": "acct_1O6yfMS0JUEY6lev"
          },
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:21 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/ch_2O6yfQ9e1RjUNIyY0e0BvujX
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_HUZ0lUkDfVYYzr","request_duration_ms":2088}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:22 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '2921'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_DP7z1JhmhzgmMf
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "object": "charge",
          "amount": 1000,
          "amount_captured": 1000,
          "amount_refunded": 0,
          "amount_updates": [],
          "application": null,
          "application_fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
          "application_fee_amount": 30,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0aeLXWx9",
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": "GUMROAD.COM",
          "captured": true,
          "created": 1698684620,
          "currency": "usd",
          "customer": null,
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": "acct_1O6yfMS0JUEY6lev",
          "order": null,
          "outcome": {
            "network_status": "approved_by_network",
            "reason": null,
            "risk_level": "normal",
            "risk_score": 58,
            "seller_message": "Payment complete.",
            "type": "authorized"
          },
          "paid": true,
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "payment_method": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "payment_method_details": {
            "card": {
              "amount_authorized": 1000,
              "brand": "visa",
              "checks": {
                "address_line1_check": null,
                "address_postal_code_check": null,
                "cvc_check": "pass"
              },
              "country": "US",
              "exp_month": 12,
              "exp_year": 2023,
              "extended_authorization": {
                "status": "disabled"
              },
              "fingerprint": "W691J2Ye3VDoq6Ij",
              "funding": "credit",
              "incremental_authorization": {
                "status": "unavailable"
              },
              "installments": null,
              "last4": "4242",
              "mandate": null,
              "multicapture": {
                "status": "unavailable"
              },
              "network": "visa",
              "network_token": {
                "used": false
              },
              "overcapture": {
                "maximum_amount_capturable": 1000,
                "status": "unavailable"
              },
              "three_d_secure": null,
              "wallet": null
            },
            "type": "card"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUozr3_qQYyBk85eSGahTosFrIbQiJaFwJ2uEwZGS2SE_8dgYxbJ-tJuVm5U0f8oE5klV1j9RFLxDqXZEU",
          "refunded": false,
          "review": null,
          "shipping": null,
          "source": null,
          "source_transfer": null,
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "transfer_data": {
            "amount": null,
            "destination": "acct_1O6yfMS0JUEY6lev"
          },
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:22 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/ch_2O6yfQ9e1RjUNIyY0e0BvujX
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_DP7z1JhmhzgmMf","request_duration_ms":420}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:22 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '2921'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_AkUMmFimsClkbQ
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "object": "charge",
          "amount": 1000,
          "amount_captured": 1000,
          "amount_refunded": 0,
          "amount_updates": [],
          "application": null,
          "application_fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
          "application_fee_amount": 30,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0aeLXWx9",
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": "GUMROAD.COM",
          "captured": true,
          "created": 1698684620,
          "currency": "usd",
          "customer": null,
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": "acct_1O6yfMS0JUEY6lev",
          "order": null,
          "outcome": {
            "network_status": "approved_by_network",
            "reason": null,
            "risk_level": "normal",
            "risk_score": 58,
            "seller_message": "Payment complete.",
            "type": "authorized"
          },
          "paid": true,
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "payment_method": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "payment_method_details": {
            "card": {
              "amount_authorized": 1000,
              "brand": "visa",
              "checks": {
                "address_line1_check": null,
                "address_postal_code_check": null,
                "cvc_check": "pass"
              },
              "country": "US",
              "exp_month": 12,
              "exp_year": 2023,
              "extended_authorization": {
                "status": "disabled"
              },
              "fingerprint": "W691J2Ye3VDoq6Ij",
              "funding": "credit",
              "incremental_authorization": {
                "status": "unavailable"
              },
              "installments": null,
              "last4": "4242",
              "mandate": null,
              "multicapture": {
                "status": "unavailable"
              },
              "network": "visa",
              "network_token": {
                "used": false
              },
              "overcapture": {
                "maximum_amount_capturable": 1000,
                "status": "unavailable"
              },
              "three_d_secure": null,
              "wallet": null
            },
            "type": "card"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUozr3_qQYyBvhh4KAomzosFvXNrVQUzoBdFjoal4L2L6rN2N2M7kweWzfu5HRplY_00afCEkyO_WpRjGw",
          "refunded": false,
          "review": null,
          "shipping": null,
          "source": null,
          "source_transfer": null,
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "transfer_data": {
            "amount": null,
            "destination": "acct_1O6yfMS0JUEY6lev"
          },
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:22 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/refunds
    body:
      encoding: UTF-8
      string: charge=ch_2O6yfQ9e1RjUNIyY0e0BvujX&amount=500&reverse_transfer=true&refund_application_fee=true
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_AkUMmFimsClkbQ","request_duration_ms":427}}'
      Idempotency-Key:
      - b922c1e5-ef29-48d1-8766-fee07d7328a1
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:25 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '455'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Idempotency-Key:
      - b922c1e5-ef29-48d1-8766-fee07d7328a1
      Original-Request:
      - req_2OMk9gdfdhJMT1
      Request-Id:
      - req_2OMk9gdfdhJMT1
      Stripe-Should-Retry:
      - 'false'
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "re_2O6yfQ9e1RjUNIyY0AapoKZp",
          "object": "refund",
          "amount": 500,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0gMqiyUi",
          "charge": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "created": 1698684623,
          "currency": "usd",
          "metadata": {},
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "reason": null,
          "receipt_number": null,
          "source_transfer_reversal": null,
          "status": "succeeded",
          "transfer_reversal": "trr_0O6yfU9e1RjUNIyYsNhcm77c"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:25 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/refunds/re_2O6yfQ9e1RjUNIyY0AapoKZp?expand%5B%5D=balance_transaction
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_2OMk9gdfdhJMT1","request_duration_ms":2778}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1048'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds%2F%3Arefund; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_0MpnZs3vg6jFwD
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "re_2O6yfQ9e1RjUNIyY0AapoKZp",
          "object": "refund",
          "amount": 500,
          "balance_transaction": {
            "id": "txn_2O6yfQ9e1RjUNIyY0gMqiyUi",
            "object": "balance_transaction",
            "amount": -692,
            "available_on": 1699228800,
            "created": 1698684623,
            "currency": "cad",
            "description": "REFUND FOR CHARGE",
            "exchange_rate": 1.38343,
            "fee": -19,
            "fee_details": [
              {
                "amount": -19,
                "application": null,
                "currency": "cad",
                "description": "Stripe processing fee refund",
                "type": "stripe_fee"
              }
            ],
            "net": -673,
            "reporting_category": "refund",
            "source": "re_2O6yfQ9e1RjUNIyY0AapoKZp",
            "status": "pending",
            "type": "refund"
          },
          "charge": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "created": 1698684623,
          "currency": "usd",
          "metadata": {},
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "reason": null,
          "receipt_number": null,
          "source_transfer_reversal": null,
          "status": "succeeded",
          "transfer_reversal": "trr_0O6yfU9e1RjUNIyYsNhcm77c"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:25 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/ch_2O6yfQ9e1RjUNIyY0e0BvujX?expand%5B%5D=application_fee.refunds.data.balance_transaction&expand%5B%5D=balance_transaction
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_0MpnZs3vg6jFwD","request_duration_ms":370}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '5044'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_ni4V2v6Idt0z3X
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "object": "charge",
          "amount": 1000,
          "amount_captured": 1000,
          "amount_refunded": 500,
          "amount_updates": [],
          "application": null,
          "application_fee": {
            "id": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
            "object": "application_fee",
            "account": "acct_1O6yfMS0JUEY6lev",
            "amount": 30,
            "amount_refunded": 15,
            "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
            "balance_transaction": "txn_0O6yfT9e1RjUNIyYZcJvEGtk",
            "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
            "created": 1698684621,
            "currency": "usd",
            "livemode": false,
            "originating_transaction": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
            "refunded": false,
            "refunds": {
              "object": "list",
              "data": [
                {
                  "id": "fr_1O6yfUS0JUEY6levvf5Mo2sN",
                  "object": "fee_refund",
                  "amount": 20,
                  "balance_transaction": {
                    "id": "txn_0O6yfU9e1RjUNIyYCTgCjOY9",
                    "object": "balance_transaction",
                    "amount": -15,
                    "available_on": 1699228800,
                    "created": 1698684624,
                    "currency": "usd",
                    "description": "REFUND FOR APPLICATION FEE",
                    "exchange_rate": 1.38343,
                    "fee": 0,
                    "fee_details": [],
                    "net": -15,
                    "reporting_category": "platform_earning_refund",
                    "source": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                    "status": "pending",
                    "type": "application_fee_refund"
                  },
                  "created": 1698684624,
                  "currency": "cad",
                  "fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                  "metadata": {}
                }
              ],
              "has_more": false,
              "total_count": 1,
              "url": "/v1/application_fees/fee_1O6yfRS0JUEY6lev2NS3KVpp/refunds"
            }
          },
          "application_fee_amount": 30,
          "balance_transaction": {
            "id": "txn_2O6yfQ9e1RjUNIyY0aeLXWx9",
            "object": "balance_transaction",
            "amount": 1356,
            "available_on": 1699228800,
            "created": 1698684620,
            "currency": "cad",
            "description": null,
            "exchange_rate": 1.35576,
            "fee": 69,
            "fee_details": [
              {
                "amount": 69,
                "application": null,
                "currency": "cad",
                "description": "Stripe processing fees",
                "type": "stripe_fee"
              }
            ],
            "net": 1287,
            "reporting_category": "charge",
            "source": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
            "status": "pending",
            "type": "charge"
          },
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": "GUMROAD.COM",
          "captured": true,
          "created": 1698684620,
          "currency": "usd",
          "customer": null,
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": "acct_1O6yfMS0JUEY6lev",
          "order": null,
          "outcome": {
            "network_status": "approved_by_network",
            "reason": null,
            "risk_level": "normal",
            "risk_score": 58,
            "seller_message": "Payment complete.",
            "type": "authorized"
          },
          "paid": true,
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "payment_method": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "payment_method_details": {
            "card": {
              "amount_authorized": 1000,
              "brand": "visa",
              "checks": {
                "address_line1_check": null,
                "address_postal_code_check": null,
                "cvc_check": "pass"
              },
              "country": "US",
              "exp_month": 12,
              "exp_year": 2023,
              "extended_authorization": {
                "status": "disabled"
              },
              "fingerprint": "W691J2Ye3VDoq6Ij",
              "funding": "credit",
              "incremental_authorization": {
                "status": "unavailable"
              },
              "installments": null,
              "last4": "4242",
              "mandate": null,
              "multicapture": {
                "status": "unavailable"
              },
              "network": "visa",
              "network_token": {
                "used": false
              },
              "overcapture": {
                "maximum_amount_capturable": 1000,
                "status": "unavailable"
              },
              "three_d_secure": null,
              "wallet": null
            },
            "type": "card"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo0r3_qQYyBlYyIkr58zosFvoz3PJgvg3zGbVcPEf-Air1Ni_ae7O3nLwg4AN67Fu9ifMEHjBwWxGTtl0",
          "refunded": false,
          "review": null,
          "shipping": null,
          "source": null,
          "source_transfer": null,
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "transfer_data": {
            "amount": null,
            "destination": "acct_1O6yfMS0JUEY6lev"
          },
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:26 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/transfers/tr_2O6yfQ9e1RjUNIyY0lNNdidm
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_ni4V2v6Idt0z3X","request_duration_ms":774}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:27 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1150'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Ftransfers%2F%3Atransfer;
        block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action
        'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample';
        style-src 'self'
      Request-Id:
      - req_XVicwfBVnKsKJr
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "object": "transfer",
          "amount": 1356,
          "amount_reversed": 678,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0XivgQsN",
          "created": 1698684620,
          "currency": "cad",
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "destination_payment": "py_1O6yfQS0JUEY6levj3sfgMMR",
          "livemode": false,
          "metadata": {},
          "reversals": {
            "object": "list",
            "data": [
              {
                "id": "trr_0O6yfU9e1RjUNIyYsNhcm77c",
                "object": "transfer_reversal",
                "amount": 678,
                "balance_transaction": "txn_0O6yfU9e1RjUNIyY30xJuT2l",
                "created": 1698684624,
                "currency": "cad",
                "destination_payment_refund": "pyr_1O6yfTS0JUEY6levOvA2EKk8",
                "metadata": {},
                "source_refund": "re_2O6yfQ9e1RjUNIyY0AapoKZp",
                "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm"
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/transfers/tr_2O6yfQ9e1RjUNIyY0lNNdidm/reversals"
          },
          "reversed": false,
          "source_transaction": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "source_type": "card",
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:27 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/py_1O6yfQS0JUEY6levj3sfgMMR?expand%5B%5D=application_fee.refunds&expand%5B%5D=refunds.data.balance_transaction
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_XVicwfBVnKsKJr","request_duration_ms":343}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Stripe-Account:
      - acct_1O6yfMS0JUEY6lev
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:27 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '4359'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_WtQUlznAki7G7P
      Stripe-Account:
      - acct_1O6yfMS0JUEY6lev
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "py_1O6yfQS0JUEY6levj3sfgMMR",
          "object": "charge",
          "amount": 1356,
          "amount_captured": 1356,
          "amount_refunded": 678,
          "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
          "application_fee": {
            "id": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
            "object": "application_fee",
            "account": "acct_1O6yfMS0JUEY6lev",
            "amount": 30,
            "amount_refunded": 15,
            "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
            "balance_transaction": "txn_0O6yfT9e1RjUNIyYZcJvEGtk",
            "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
            "created": 1698684621,
            "currency": "usd",
            "livemode": false,
            "originating_transaction": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
            "refunded": false,
            "refunds": {
              "object": "list",
              "data": [
                {
                  "id": "fr_1O6yfUS0JUEY6levvf5Mo2sN",
                  "object": "fee_refund",
                  "amount": 20,
                  "balance_transaction": "txn_0O6yfU9e1RjUNIyYCTgCjOY9",
                  "created": 1698684624,
                  "currency": "cad",
                  "fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                  "metadata": {}
                }
              ],
              "has_more": false,
              "total_count": 1,
              "url": "/v1/application_fees/fee_1O6yfRS0JUEY6lev2NS3KVpp/refunds"
            }
          },
          "application_fee_amount": 41,
          "balance_transaction": "txn_1O6yfRS0JUEY6levmsoiXSeo",
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": null,
          "captured": true,
          "created": 1698684621,
          "currency": "cad",
          "customer": null,
          "description": null,
          "destination": null,
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": null,
          "order": null,
          "outcome": null,
          "paid": true,
          "payment_intent": null,
          "payment_method": null,
          "payment_method_details": {
            "stripe_account": {},
            "type": "stripe_account"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaFwoVYWNjdF8xTzZ5Zk1TMEpVRVk2bGV2KNO9_6kGMgb3Brh_6946LBZ_ev648KKjx1g4DSyN7iB59HVRuRUy7-fB4dNwzYpA-Vg-W6X4cBLSUlN-",
          "refunded": false,
          "refunds": {
            "object": "list",
            "data": [
              {
                "id": "pyr_1O6yfTS0JUEY6levOvA2EKk8",
                "object": "refund",
                "amount": 678,
                "balance_transaction": {
                  "id": "txn_1O6yfUS0JUEY6levBkItUwIV",
                  "object": "balance_transaction",
                  "amount": -678,
                  "available_on": 1699228800,
                  "created": 1698684623,
                  "currency": "cad",
                  "description": "REFUND FOR PAYMENT",
                  "exchange_rate": null,
                  "fee": 0,
                  "fee_details": [],
                  "net": -678,
                  "reporting_category": "refund",
                  "source": "pyr_1O6yfTS0JUEY6levOvA2EKk8",
                  "status": "pending",
                  "type": "payment_refund"
                },
                "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
                "created": 1698684623,
                "currency": "cad",
                "metadata": {},
                "payment_intent": null,
                "reason": null,
                "receipt_number": null,
                "source_transfer_reversal": "trr_0O6yfU9e1RjUNIyYsNhcm77c",
                "status": "succeeded",
                "transfer_reversal": "trr_0O6yfU9e1RjUNIyYsNhcm77c"
              }
            ],
            "has_more": false,
            "total_count": 1,
            "url": "/v1/charges/py_1O6yfQS0JUEY6levj3sfgMMR/refunds"
          },
          "review": null,
          "shipping": null,
          "source": {
            "id": "9e1RjUNIyYGpA9Cfh3RmQxxTzb1aakpE",
            "object": "account",
            "application_icon": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV96QURJZllYTVhmQTEwQWswUmg3MlRpOGI00M3h6olFO",
            "application_logo": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV9WNnByazhHekswejFlUGh3a1M0dnRxZko00eY1DsvrA",
            "application_name": "Gumroad",
            "application_url": "https://gumroad.com"
          },
          "source_transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer_data": null,
          "transfer_group": null
        }
  recorded_at: Mon, 30 Oct 2023 16:50:27 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/ch_2O6yfQ9e1RjUNIyY0e0BvujX
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_WtQUlznAki7G7P","request_duration_ms":400}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:27 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '2923'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_8gDTRHCgRjFRAz
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "object": "charge",
          "amount": 1000,
          "amount_captured": 1000,
          "amount_refunded": 500,
          "amount_updates": [],
          "application": null,
          "application_fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
          "application_fee_amount": 30,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0aeLXWx9",
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": "GUMROAD.COM",
          "captured": true,
          "created": 1698684620,
          "currency": "usd",
          "customer": null,
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": "acct_1O6yfMS0JUEY6lev",
          "order": null,
          "outcome": {
            "network_status": "approved_by_network",
            "reason": null,
            "risk_level": "normal",
            "risk_score": 58,
            "seller_message": "Payment complete.",
            "type": "authorized"
          },
          "paid": true,
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "payment_method": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "payment_method_details": {
            "card": {
              "amount_authorized": 1000,
              "brand": "visa",
              "checks": {
                "address_line1_check": null,
                "address_postal_code_check": null,
                "cvc_check": "pass"
              },
              "country": "US",
              "exp_month": 12,
              "exp_year": 2023,
              "extended_authorization": {
                "status": "disabled"
              },
              "fingerprint": "W691J2Ye3VDoq6Ij",
              "funding": "credit",
              "incremental_authorization": {
                "status": "unavailable"
              },
              "installments": null,
              "last4": "4242",
              "mandate": null,
              "multicapture": {
                "status": "unavailable"
              },
              "network": "visa",
              "network_token": {
                "used": false
              },
              "overcapture": {
                "maximum_amount_capturable": 1000,
                "status": "unavailable"
              },
              "three_d_secure": null,
              "wallet": null
            },
            "type": "card"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo073_qQYyBp9-pJQIgTosFh48KFaxbiO0y_JYzPzBpRozCq8BLwBPxWkgTIKk4hbxScajiQATOtvhdDI",
          "refunded": false,
          "review": null,
          "shipping": null,
          "source": null,
          "source_transfer": null,
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "transfer_data": {
            "amount": null,
            "destination": "acct_1O6yfMS0JUEY6lev"
          },
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:27 GMT
- request:
    method: post
    uri: https://api.stripe.com/v1/refunds
    body:
      encoding: UTF-8
      string: charge=ch_2O6yfQ9e1RjUNIyY0e0BvujX&amount=500&reverse_transfer=true&refund_application_fee=true
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_8gDTRHCgRjFRAz","request_duration_ms":396}}'
      Idempotency-Key:
      - 308e758c-0616-4b6c-9d54-ab810b380d63
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:30 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '455'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Idempotency-Key:
      - 308e758c-0616-4b6c-9d54-ab810b380d63
      Original-Request:
      - req_qcc26FMzsFSP1m
      Request-Id:
      - req_qcc26FMzsFSP1m
      Stripe-Should-Retry:
      - 'false'
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "re_2O6yfQ9e1RjUNIyY0JvxEWh4",
          "object": "refund",
          "amount": 500,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0vr8Ckff",
          "charge": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "created": 1698684628,
          "currency": "usd",
          "metadata": {},
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "reason": null,
          "receipt_number": null,
          "source_transfer_reversal": null,
          "status": "succeeded",
          "transfer_reversal": "trr_0O6yfZ9e1RjUNIyYfkYHnOgg"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:30 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/refunds/re_2O6yfQ9e1RjUNIyY0JvxEWh4?expand%5B%5D=balance_transaction
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_qcc26FMzsFSP1m","request_duration_ms":2846}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:31 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1048'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Frefunds%2F%3Arefund; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_mu2nHXoKmRQvkE
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "re_2O6yfQ9e1RjUNIyY0JvxEWh4",
          "object": "refund",
          "amount": 500,
          "balance_transaction": {
            "id": "txn_2O6yfQ9e1RjUNIyY0vr8Ckff",
            "object": "balance_transaction",
            "amount": -692,
            "available_on": 1699228800,
            "created": 1698684628,
            "currency": "cad",
            "description": "REFUND FOR CHARGE",
            "exchange_rate": 1.38343,
            "fee": -50,
            "fee_details": [
              {
                "amount": -50,
                "application": null,
                "currency": "cad",
                "description": "Stripe processing fee refund",
                "type": "stripe_fee"
              }
            ],
            "net": -642,
            "reporting_category": "refund",
            "source": "re_2O6yfQ9e1RjUNIyY0JvxEWh4",
            "status": "pending",
            "type": "refund"
          },
          "charge": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "created": 1698684628,
          "currency": "usd",
          "metadata": {},
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "reason": null,
          "receipt_number": null,
          "source_transfer_reversal": null,
          "status": "succeeded",
          "transfer_reversal": "trr_0O6yfZ9e1RjUNIyYfkYHnOgg"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:31 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/ch_2O6yfQ9e1RjUNIyY0e0BvujX?expand%5B%5D=application_fee.refunds.data.balance_transaction&expand%5B%5D=balance_transaction
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_mu2nHXoKmRQvkE","request_duration_ms":408}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:31 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '5946'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_1SuzmP5QcaUEgE
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "object": "charge",
          "amount": 1000,
          "amount_captured": 1000,
          "amount_refunded": 1000,
          "amount_updates": [],
          "application": null,
          "application_fee": {
            "id": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
            "object": "application_fee",
            "account": "acct_1O6yfMS0JUEY6lev",
            "amount": 30,
            "amount_refunded": 30,
            "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
            "balance_transaction": "txn_0O6yfT9e1RjUNIyYZcJvEGtk",
            "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
            "created": 1698684621,
            "currency": "usd",
            "livemode": false,
            "originating_transaction": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
            "refunded": true,
            "refunds": {
              "object": "list",
              "data": [
                {
                  "id": "fr_1O6yfZS0JUEY6levR0NrM5Gx",
                  "object": "fee_refund",
                  "amount": 20,
                  "balance_transaction": {
                    "id": "txn_0O6yfZ9e1RjUNIyY6fqfiS6e",
                    "object": "balance_transaction",
                    "amount": -15,
                    "available_on": 1699228800,
                    "created": 1698684629,
                    "currency": "usd",
                    "description": "REFUND FOR APPLICATION FEE",
                    "exchange_rate": 1.38343,
                    "fee": 0,
                    "fee_details": [],
                    "net": -15,
                    "reporting_category": "platform_earning_refund",
                    "source": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                    "status": "pending",
                    "type": "application_fee_refund"
                  },
                  "created": 1698684629,
                  "currency": "cad",
                  "fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                  "metadata": {}
                },
                {
                  "id": "fr_1O6yfUS0JUEY6levvf5Mo2sN",
                  "object": "fee_refund",
                  "amount": 20,
                  "balance_transaction": {
                    "id": "txn_0O6yfU9e1RjUNIyYCTgCjOY9",
                    "object": "balance_transaction",
                    "amount": -15,
                    "available_on": 1699228800,
                    "created": 1698684624,
                    "currency": "usd",
                    "description": "REFUND FOR APPLICATION FEE",
                    "exchange_rate": 1.38343,
                    "fee": 0,
                    "fee_details": [],
                    "net": -15,
                    "reporting_category": "platform_earning_refund",
                    "source": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                    "status": "pending",
                    "type": "application_fee_refund"
                  },
                  "created": 1698684624,
                  "currency": "cad",
                  "fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                  "metadata": {}
                }
              ],
              "has_more": false,
              "total_count": 2,
              "url": "/v1/application_fees/fee_1O6yfRS0JUEY6lev2NS3KVpp/refunds"
            }
          },
          "application_fee_amount": 30,
          "balance_transaction": {
            "id": "txn_2O6yfQ9e1RjUNIyY0aeLXWx9",
            "object": "balance_transaction",
            "amount": 1356,
            "available_on": 1699228800,
            "created": 1698684620,
            "currency": "cad",
            "description": null,
            "exchange_rate": 1.35576,
            "fee": 69,
            "fee_details": [
              {
                "amount": 69,
                "application": null,
                "currency": "cad",
                "description": "Stripe processing fees",
                "type": "stripe_fee"
              }
            ],
            "net": 1287,
            "reporting_category": "charge",
            "source": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
            "status": "pending",
            "type": "charge"
          },
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": "GUMROAD.COM",
          "captured": true,
          "created": 1698684620,
          "currency": "usd",
          "customer": null,
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": "acct_1O6yfMS0JUEY6lev",
          "order": null,
          "outcome": {
            "network_status": "approved_by_network",
            "reason": null,
            "risk_level": "normal",
            "risk_score": 58,
            "seller_message": "Payment complete.",
            "type": "authorized"
          },
          "paid": true,
          "payment_intent": "pi_2O6yfQ9e1RjUNIyY05WvjSKW",
          "payment_method": "pm_0O6yfL9e1RjUNIyYWhQiyJNi",
          "payment_method_details": {
            "card": {
              "amount_authorized": 1000,
              "brand": "visa",
              "checks": {
                "address_line1_check": null,
                "address_postal_code_check": null,
                "cvc_check": "pass"
              },
              "country": "US",
              "exp_month": 12,
              "exp_year": 2023,
              "extended_authorization": {
                "status": "disabled"
              },
              "fingerprint": "W691J2Ye3VDoq6Ij",
              "funding": "credit",
              "incremental_authorization": {
                "status": "unavailable"
              },
              "installments": null,
              "last4": "4242",
              "mandate": null,
              "multicapture": {
                "status": "unavailable"
              },
              "network": "visa",
              "network_token": {
                "used": false
              },
              "overcapture": {
                "maximum_amount_capturable": 1000,
                "status": "unavailable"
              },
              "three_d_secure": null,
              "wallet": null
            },
            "type": "card"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaIgogOWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEUo173_qQYyBodZq5vz1DosFk4ZEkqcsOL6HcKZvdykBtrXzyebgl9fQmh1-EuEN7avUbZ63OqWcUXUX4Q",
          "refunded": true,
          "review": null,
          "shipping": null,
          "source": null,
          "source_transfer": null,
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "transfer_data": {
            "amount": null,
            "destination": "acct_1O6yfMS0JUEY6lev"
          },
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:31 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/transfers/tr_2O6yfQ9e1RjUNIyY0lNNdidm
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_1SuzmP5QcaUEgE","request_duration_ms":571}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:32 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1596'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Ftransfers%2F%3Atransfer;
        block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action
        'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample';
        style-src 'self'
      Request-Id:
      - req_gcXKBsUYMGejtF
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "object": "transfer",
          "amount": 1356,
          "amount_reversed": 1356,
          "balance_transaction": "txn_2O6yfQ9e1RjUNIyY0XivgQsN",
          "created": 1698684620,
          "currency": "cad",
          "description": null,
          "destination": "acct_1O6yfMS0JUEY6lev",
          "destination_payment": "py_1O6yfQS0JUEY6levj3sfgMMR",
          "livemode": false,
          "metadata": {},
          "reversals": {
            "object": "list",
            "data": [
              {
                "id": "trr_0O6yfZ9e1RjUNIyYfkYHnOgg",
                "object": "transfer_reversal",
                "amount": 678,
                "balance_transaction": "txn_0O6yfZ9e1RjUNIyYdGkv2iou",
                "created": 1698684629,
                "currency": "cad",
                "destination_payment_refund": "pyr_1O6yfZS0JUEY6levHvK0a83X",
                "metadata": {},
                "source_refund": "re_2O6yfQ9e1RjUNIyY0JvxEWh4",
                "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm"
              },
              {
                "id": "trr_0O6yfU9e1RjUNIyYsNhcm77c",
                "object": "transfer_reversal",
                "amount": 678,
                "balance_transaction": "txn_0O6yfU9e1RjUNIyY30xJuT2l",
                "created": 1698684624,
                "currency": "cad",
                "destination_payment_refund": "pyr_1O6yfTS0JUEY6levOvA2EKk8",
                "metadata": {},
                "source_refund": "re_2O6yfQ9e1RjUNIyY0AapoKZp",
                "transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm"
              }
            ],
            "has_more": false,
            "total_count": 2,
            "url": "/v1/transfers/tr_2O6yfQ9e1RjUNIyY0lNNdidm/reversals"
          },
          "reversed": true,
          "source_transaction": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
          "source_type": "card",
          "transfer_group": "group_pi_2O6yfQ9e1RjUNIyY05WvjSKW"
        }
  recorded_at: Mon, 30 Oct 2023 16:50:32 GMT
- request:
    method: get
    uri: https://api.stripe.com/v1/charges/py_1O6yfQS0JUEY6levj3sfgMMR?expand%5B%5D=application_fee.refunds&expand%5B%5D=refunds.data.balance_transaction
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Stripe/v1 RubyBindings/10.0.0
      Authorization:
      - Bearer sk_test_4MnOc1f1gf16nKP6dyvP4TAD
      Content-Type:
      - application/x-www-form-urlencoded
      X-Stripe-Client-Telemetry:
      - '{"last_request_metrics":{"request_id":"req_gcXKBsUYMGejtF","request_duration_ms":388}}'
      Stripe-Version:
      - '2023-10-16'
      X-Stripe-Client-User-Agent:
      - '{"bindings_version":"10.0.0","lang":"ruby","lang_version":"3.2.2 p53 (2023-03-30)","platform":"arm64-darwin20","engine":"ruby","publisher":"stripe","uname":"Darwin
        Harbakshs-MacBook-Air.local 20.5.0 Darwin Kernel Version 20.5.0: Sat May  8
        05:10:31 PDT 2021; root:xnu-7195.121.3~9/RELEASE_ARM64_T8101 arm64","hostname":"Harbakshs-MacBook-Air.local"}'
      Stripe-Account:
      - acct_1O6yfMS0JUEY6lev
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Mon, 30 Oct 2023 16:50:32 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '5750'
      Connection:
      - keep-alive
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET,HEAD,PUT,PATCH,POST,DELETE
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Content-Security-Policy-Report-Only:
      - report-uri https://q.stripe.com/csp-report?p=v1%2Fcharges%2F%3Acharge; block-all-mixed-content;
        default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'
      Request-Id:
      - req_KfX2C3V8JfZcvw
      Stripe-Account:
      - acct_1O6yfMS0JUEY6lev
      Stripe-Version:
      - '2023-10-16'
      Vary:
      - Origin
      X-Stripe-Routing-Context-Priority-Tier:
      - api-testmode
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
    body:
      encoding: UTF-8
      string: |-
        {
          "id": "py_1O6yfQS0JUEY6levj3sfgMMR",
          "object": "charge",
          "amount": 1356,
          "amount_captured": 1356,
          "amount_refunded": 1356,
          "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
          "application_fee": {
            "id": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
            "object": "application_fee",
            "account": "acct_1O6yfMS0JUEY6lev",
            "amount": 30,
            "amount_refunded": 30,
            "application": "ca_42fpqGTJ6VQbAkyhmnG4BLS1vq0slNN4",
            "balance_transaction": "txn_0O6yfT9e1RjUNIyYZcJvEGtk",
            "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
            "created": 1698684621,
            "currency": "usd",
            "livemode": false,
            "originating_transaction": "ch_2O6yfQ9e1RjUNIyY0e0BvujX",
            "refunded": true,
            "refunds": {
              "object": "list",
              "data": [
                {
                  "id": "fr_1O6yfZS0JUEY6levR0NrM5Gx",
                  "object": "fee_refund",
                  "amount": 20,
                  "balance_transaction": "txn_0O6yfZ9e1RjUNIyY6fqfiS6e",
                  "created": 1698684629,
                  "currency": "cad",
                  "fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                  "metadata": {}
                },
                {
                  "id": "fr_1O6yfUS0JUEY6levvf5Mo2sN",
                  "object": "fee_refund",
                  "amount": 20,
                  "balance_transaction": "txn_0O6yfU9e1RjUNIyYCTgCjOY9",
                  "created": 1698684624,
                  "currency": "cad",
                  "fee": "fee_1O6yfRS0JUEY6lev2NS3KVpp",
                  "metadata": {}
                }
              ],
              "has_more": false,
              "total_count": 2,
              "url": "/v1/application_fees/fee_1O6yfRS0JUEY6lev2NS3KVpp/refunds"
            }
          },
          "application_fee_amount": 41,
          "balance_transaction": "txn_1O6yfRS0JUEY6levmsoiXSeo",
          "billing_details": {
            "address": {
              "city": null,
              "country": null,
              "line1": null,
              "line2": null,
              "postal_code": null,
              "state": null
            },
            "email": null,
            "name": null,
            "phone": null
          },
          "calculated_statement_descriptor": null,
          "captured": true,
          "created": 1698684621,
          "currency": "cad",
          "customer": null,
          "description": null,
          "destination": null,
          "dispute": null,
          "disputed": false,
          "failure_balance_transaction": null,
          "failure_code": null,
          "failure_message": null,
          "fraud_details": {},
          "invoice": null,
          "livemode": false,
          "metadata": {},
          "on_behalf_of": null,
          "order": null,
          "outcome": null,
          "paid": true,
          "payment_intent": null,
          "payment_method": null,
          "payment_method_details": {
            "stripe_account": {},
            "type": "stripe_account"
          },
          "receipt_email": null,
          "receipt_number": null,
          "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaFwoVYWNjdF8xTzZ5Zk1TMEpVRVk2bGV2KNi9_6kGMgYq-axGqQk6LBZ3T02r0QCVnflzyo0KdgjesA3Ttk4aSa09408vy1uB7tLp24EWRj6nCcHH",
          "refunded": true,
          "refunds": {
            "object": "list",
            "data": [
              {
                "id": "pyr_1O6yfZS0JUEY6levHvK0a83X",
                "object": "refund",
                "amount": 678,
                "balance_transaction": {
                  "id": "txn_1O6yfZS0JUEY6levDdxqwBy8",
                  "object": "balance_transaction",
                  "amount": -678,
                  "available_on": 1699228800,
                  "created": 1698684629,
                  "currency": "cad",
                  "description": "REFUND FOR PAYMENT",
                  "exchange_rate": null,
                  "fee": 0,
                  "fee_details": [],
                  "net": -678,
                  "reporting_category": "refund",
                  "source": "pyr_1O6yfZS0JUEY6levHvK0a83X",
                  "status": "pending",
                  "type": "payment_refund"
                },
                "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
                "created": 1698684629,
                "currency": "cad",
                "metadata": {},
                "payment_intent": null,
                "reason": null,
                "receipt_number": null,
                "source_transfer_reversal": "trr_0O6yfZ9e1RjUNIyYfkYHnOgg",
                "status": "succeeded",
                "transfer_reversal": "trr_0O6yfZ9e1RjUNIyYfkYHnOgg"
              },
              {
                "id": "pyr_1O6yfTS0JUEY6levOvA2EKk8",
                "object": "refund",
                "amount": 678,
                "balance_transaction": {
                  "id": "txn_1O6yfUS0JUEY6levBkItUwIV",
                  "object": "balance_transaction",
                  "amount": -678,
                  "available_on": 1699228800,
                  "created": 1698684623,
                  "currency": "cad",
                  "description": "REFUND FOR PAYMENT",
                  "exchange_rate": null,
                  "fee": 0,
                  "fee_details": [],
                  "net": -678,
                  "reporting_category": "refund",
                  "source": "pyr_1O6yfTS0JUEY6levOvA2EKk8",
                  "status": "pending",
                  "type": "payment_refund"
                },
                "charge": "py_1O6yfQS0JUEY6levj3sfgMMR",
                "created": 1698684623,
                "currency": "cad",
                "metadata": {},
                "payment_intent": null,
                "reason": null,
                "receipt_number": null,
                "source_transfer_reversal": "trr_0O6yfU9e1RjUNIyYsNhcm77c",
                "status": "succeeded",
                "transfer_reversal": "trr_0O6yfU9e1RjUNIyYsNhcm77c"
              }
            ],
            "has_more": false,
            "total_count": 2,
            "url": "/v1/charges/py_1O6yfQS0JUEY6levj3sfgMMR/refunds"
          },
          "review": null,
          "shipping": null,
          "source": {
            "id": "9e1RjUNIyYGpA9Cfh3RmQxxTzb1aakpE",
            "object": "account",
            "application_icon": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV96QURJZllYTVhmQTEwQWswUmg3MlRpOGI00M3h6olFO",
            "application_logo": "https://files.stripe.com/links/MDB8OWUxUmpVTkl5WUdwQTlDZmgzUm1ReHhUemIxYWFrcEV8ZmxfbGl2ZV9WNnByazhHekswejFlUGh3a1M0dnRxZko00eY1DsvrA",
            "application_name": "Gumroad",
            "application_url": "https://gumroad.com"
          },
          "source_transfer": "tr_2O6yfQ9e1RjUNIyY0lNNdidm",
          "statement_descriptor": null,
          "statement_descriptor_suffix": null,
          "status": "succeeded",
          "transfer_data": null,
          "transfer_group": null
        }
  recorded_at: Mon, 30 Oct 2023 16:50:32 GMT
recorded_with: VCR 6.2.0
